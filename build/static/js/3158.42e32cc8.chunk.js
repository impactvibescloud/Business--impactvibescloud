"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3158],{53158:function(e,s,t){t.r(s);var l=t(9950),a=t(26910),n=t(28429),c=t(42074),i=t(10226),r=t(4753),d=t(11031),o=t(59051),h=t.n(o),m=t(44414);s.default=()=>{var e;const s=(0,n.g)().id,t=(0,d.g)(),[o,u]=((0,n.Zp)(),(0,l.useState)([])),[x,j]=(0,l.useState)([]),[v,p]=(0,l.useState)(!0),g=e=>{const s=e.split(" "),t=s[2],l=s[1],a=s[3],n={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"}[l];return"".concat(t,"-").concat(n,"-").concat(a)};(0,l.useEffect)(()=>{a.A.get("/api/v1/coupon/history/".concat(s),{headers:{Authorization:"Bearer ".concat(t)}}).then(e=>{p(!1),u(e.data.message.coupon_used_history),j(e.data.message.coupon_used_history[0].couponCode)}).catch(e=>{var s,t;p(!1);const l=(null===e||void 0===e||null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Something went wrong!";console.log(l)})},[]);const[N,f]=(0,l.useState)(10),[b,y]=(0,l.useState)(1);return(0,m.jsx)("div",{className:"main-content",children:(0,m.jsx)("div",{className:"my-3 page-content",children:(0,m.jsxs)("div",{className:"container-fluid",children:[(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-12",children:(0,m.jsxs)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:[(0,m.jsxs)("div",{style:{fontSize:"22px",fontWeight:"bold"},className:"fw-bold",children:["Coupon Claim History:",x]}),(0,m.jsx)("div",{className:"page-title-right",children:(0,m.jsx)(c.N_,{to:"/affiliate/coupons",children:(0,m.jsx)(i.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},children:"Back"})})})]})})}),(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-lg-12",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("div",{className:"row ml-0 mr-0 mb-10",children:(0,m.jsx)("div",{className:"col-sm-12 col-md-12",children:(0,m.jsx)("div",{className:"dataTables_length",children:(0,m.jsxs)("label",{className:"w-100",children:["Show",(0,m.jsxs)("select",{style:{width:"10%"},onChange:e=>f(e.target.value),className:" select-w custom-select custom-select-sm form-control form-control-sm ",children:[(0,m.jsx)("option",{value:"10",children:"10"}),(0,m.jsx)("option",{value:"25",children:"25"}),(0,m.jsx)("option",{value:"50",children:"50"}),(0,m.jsx)("option",{value:"100",children:"100"})]}),"entries"]})})})})})})})}),(0,m.jsx)("div",{className:"table-responsive table-shoot mt-3",children:(0,m.jsxs)("table",{className:"table table-centered table-nowrap",style:{border:"1px solid"},children:[(0,m.jsx)("thead",{className:"thead-info",style:{background:"rgb(140, 213, 213)"},children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Order Id"}),(0,m.jsx)("th",{children:"User Id"}),(0,m.jsx)("th",{children:"Customer Name"}),(0,m.jsx)("th",{children:"Date"}),(0,m.jsx)("th",{children:"Time"})]})}),(0,m.jsxs)("tbody",{children:[!v&&0===o.length&&(0,m.jsx)("tr",{className:"text-center",children:(0,m.jsx)("td",{children:(0,m.jsx)("h5",{children:"No Data Available"})})}),v?(0,m.jsx)("tr",{children:(0,m.jsx)("td",{className:"text-center",children:"Loading..."})}):o&&(null===o||void 0===o||null===(e=o.slice(("".concat(b)-1)*N,"".concat(b)*N))||void 0===e?void 0:e.map((e,s)=>{var t,l;return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e.orderId}),(0,m.jsx)("td",{children:null===e||void 0===e||null===(t=e.userId)||void 0===t?void 0:t._id}),(0,m.jsx)("td",{children:null===e||void 0===e||null===(l=e.userId)||void 0===l?void 0:l.name}),(0,m.jsx)("td",{children:g(e.date)}),(0,m.jsx)("td",{children:h()(e.date).format("HH:mm:ss")})]},s)}))]})]})}),(0,m.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:(0,m.jsx)(r.A,{style:{margin:"2rem"},variant:"outlined",size:"large",count:Math.max(1,Math.ceil(o.length/N)),color:"primary",onChange:(e,s)=>y(s)})})]})})})}}}]);