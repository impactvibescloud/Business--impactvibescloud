"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7939],{10226:function(e,t,a){a.d(t,{A:function(){return N}});var o=a(98587),r=a(58168),n=a(9950),i=a(72004),l=a(45537),s=a(88465),c=a(9240),d=a(59254),u=a(19608),p=a(4236),m=a(59271),h=a(61676),v=a(1763),g=a(423);function x(e){return(0,g.Ay)("MuiButton",e)}var f=(0,v.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var y=n.createContext({});var b=n.createContext(void 0),A=a(44414);const S=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],w=e=>(0,r.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),z=(0,d.Ay)(m.A,{shouldForwardProp:e=>(0,u.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["".concat(a.variant).concat((0,h.A)(a.color))],t["size".concat((0,h.A)(a.size))],t["".concat(a.variant,"Size").concat((0,h.A)(a.size))],"inherit"===a.color&&t.colorInherit,a.disableElevation&&t.disableElevation,a.fullWidth&&t.fullWidth]}})(e=>{let{theme:t,ownerState:a}=e;var o,n;const i="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],l="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,r.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,r.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((t.vars||t).palette[a.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:l,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(t.vars||t).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[a.color].main}}),"&:active":(0,r.A)({},"contained"===a.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(f.focusVisible)]:(0,r.A)({},"contained"===a.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(f.disabled)]:(0,r.A)({color:(t.vars||t).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===a.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(t.vars||t).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(t.vars||t).palette[a.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat((0,c.X4)(t.palette[a.color].main,.5))},"contained"===a.variant&&{color:t.vars?t.vars.palette.text.primary:null==(o=(n=t.palette).getContrastText)?void 0:o.call(n,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(t.vars||t).palette[a.color].contrastText,backgroundColor:(t.vars||t).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})},e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(f.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(f.disabled)]:{boxShadow:"none"}}}),C=(0,d.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.startIcon,t["iconSize".concat((0,h.A)(a.size))]]}})(e=>{let{ownerState:t}=e;return(0,r.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},w(t))}),j=(0,d.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.endIcon,t["iconSize".concat((0,h.A)(a.size))]]}})(e=>{let{ownerState:t}=e;return(0,r.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},w(t))});var N=n.forwardRef(function(e,t){const a=n.useContext(y),c=n.useContext(b),d=(0,l.A)(a,e),u=(0,p.b)({props:d,name:"MuiButton"}),{children:m,color:v="primary",component:g="button",className:f,disabled:w=!1,disableElevation:N=!1,disableFocusRipple:I=!1,endIcon:B,focusVisibleClassName:R,fullWidth:k=!1,size:W="medium",startIcon:_,type:M,variant:T="text"}=u,E=(0,o.A)(u,S),q=(0,r.A)({},u,{color:v,component:g,disabled:w,disableElevation:N,disableFocusRipple:I,fullWidth:k,size:W,type:M,variant:T}),L=(e=>{const{color:t,disableElevation:a,fullWidth:o,size:n,variant:i,classes:l}=e,c={root:["root",i,"".concat(i).concat((0,h.A)(t)),"size".concat((0,h.A)(n)),"".concat(i,"Size").concat((0,h.A)(n)),"color".concat((0,h.A)(t)),a&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,h.A)(n))],endIcon:["icon","endIcon","iconSize".concat((0,h.A)(n))]},d=(0,s.A)(c,x,l);return(0,r.A)({},l,d)})(q),V=_&&(0,A.jsx)(C,{className:L.startIcon,ownerState:q,children:_}),D=B&&(0,A.jsx)(j,{className:L.endIcon,ownerState:q,children:B}),P=c||"";return(0,A.jsxs)(z,(0,r.A)({ownerState:q,className:(0,i.A)(a.className,L.root,f,P),component:g,disabled:w,focusRipple:!I,focusVisibleClassName:(0,i.A)(L.focusVisible,R),ref:t,type:M},E,{classes:L,children:[V,m,D]}))})},50320:function(e,t,a){a.r(t);var o=a(9950),r=a(28429),n=a(26910),i=a(35887),l=a(10226),s=a(78317),c=a(82053),d=a(29925),u=a(11031),p=a(44414);t.default=()=>{const e=(0,u.g)(),t=(0,r.g)().id,a=(0,r.Zp)(),m={marginBottom:"1rem",width:"20rem ",height:"45px"},[h,v]=(0,o.useState)(!1),[g,x]=(0,o.useState)(10),[f,y]=(0,o.useState)(1),[b,A]=(0,o.useState)(!1),[S,w]=(0,o.useState)(""),[z,C]=(0,o.useState)(),[j,N]=(0,o.useState)(),[I,B]=(0,o.useState)(""),[R,k]=(0,o.useState)(""),[W,_]=(0,o.useState)(!1),[M,T]=(0,o.useState)(!1),[E,q]=(0,o.useState)(!1),[L,V]=(0,o.useState)(!1),[D,P]=(0,o.useState)(!1),[O,F]=(0,o.useState)([]);return(0,o.useEffect)(()=>{n.A.get("/api/v1/coupon/getone/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{w(e.data.message.coupon_code),C(e.data.message.discount_amount),N(e.data.message.affiliate_discount_amount),B(e.data.message.valid_till),F({name:e.data.message.name,mobile:e.data.message.mobile}),k(t)}).catch(e=>{var t,a;const o=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong!";console.log(o)})},[]),(0,p.jsxs)("div",{className:"container",children:[(0,p.jsxs)("div",{className:" page-title-box d-flex align-items-center justify-content-between flex-direction-row",children:[(0,p.jsx)("div",{children:(0,p.jsx)("h3",{children:"Edit Coupons"})}),(0,p.jsxs)("div",{className:"d-flex",children:[(0,p.jsx)("div",{children:(0,p.jsx)(l.A,{className:"mx-2",variant:"contained",color:"primary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},onClick:o=>{if(o.preventDefault(),8!==S.length)return _(!0),void i.Ay.error("Code should be of 8 charecter");if(""===I)return q(!0),void i.Ay.error("Valid till is required");if(""===R)return V(!0),void i.Ay.error("Affiliate is required");if(0===z)return T(!0),void i.Ay.error("Discount amount is required");if(!j)return P(!0),void i.Ay.error("Affiliate Discount Amount is required");if(0===j||""===j)return P(!0),void i.Ay.error("Affiliate Discount Amount is required");let r={coupon_code:S,discount_amount:z,affiliate_discount_amount:j,valid_till:I,is_coupon_active:!0,id:R};n.A.patch("/api/v1/coupon/edit/".concat(t),r,{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{C(""),w(""),B(""),k(""),N(""),_(!1),T(!1),q(!1),V(!1),P(!1),swal({title:"Congratulations!!",text:"The Coupon was Edited successfully!",icon:"success",button:"OK"}),a("/affiliate/coupons")}).catch(e=>{var t,a,o,r;const n=null!==(t=e.response)&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.message?null===(o=e.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message:"Something went wrong!";i.Ay.error(n),console.error("There was a problem with your fetch operation:",e)}).finally(()=>{V(!1)})},children:"Edit"})}),(0,p.jsx)("div",{children:(0,p.jsx)(l.A,{onClick:()=>{a("/affiliate/coupons")},variant:"contained",style:{fontWeight:"bold",marginBottom:"1rem",backgroundColor:"red",textTransform:"capitalize"},children:"Back"})})]})]}),(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{style:{padding:"2rem",borderRadius:"0.5rem",backgroundColor:"white",marginBottom:"1rem",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"80%",margin:"auto"},className:"border",children:(0,p.jsx)("div",{style:{width:"100%"},children:(0,p.jsxs)(s.A,{children:[(0,p.jsx)(c.A,{className:"mb-1",children:"Coupon Code"}),(0,p.jsx)(d.A,{className:"mb-3",required:!0,sx:m,value:S,InputProps:{inputProps:{maxLength:8,minLength:8}},onChange:e=>{w(e.target.value)},error:W,style:{width:"100%"}}),W?(0,p.jsx)("small",{style:{color:"red"},children:"8 characters required"}):"",(0,p.jsx)(c.A,{className:"mb-1",children:"Discount Amount"}),(0,p.jsxs)("div",{className:"d-flex align-items-center",children:[(0,p.jsx)("div",{style:{marginRight:"5px"},className:"d-flex justify-content-center",children:(0,p.jsx)("span",{style:{fontSize:"1.7rem"},children:"\u20b9"})}),(0,p.jsx)(d.A,{className:"mb-3",required:!0,error:M,type:"number",value:z,sx:m,onChange:e=>{let t=e.target.value;parseInt(t)>=9999?(C(9999),T(!0)):parseInt(t)<0?C(0):(T(!1),C(t))},style:{flex:1}})]}),(0,p.jsx)(c.A,{className:"mb-1",children:"Affiliate Discount Amount"}),(0,p.jsxs)("div",{className:"d-flex align-items-center",children:[(0,p.jsx)("div",{style:{marginRight:"5px"},className:"d-flex justify-content-center",children:(0,p.jsx)("span",{style:{fontSize:"1.7rem"},children:"\u20b9"})}),(0,p.jsx)(d.A,{className:"mb-3",required:!0,error:M,type:"number",value:j,sx:m,onChange:e=>{let t=e.target.value;parseInt(t)>=9999?(N(9999),P(!0)):parseInt(t)<0?C(0):(P(!1),N(t))},style:{flex:1}})]}),D?(0,p.jsx)("small",{style:{color:"red"},children:"Max Amount Rs.9999"}):"",(0,p.jsx)(c.A,{className:"mb-1",children:"Coupon Valid Till: "}),(0,p.jsx)("input",{style:{width:"100%",height:"50px",outline:E?"1px solid red":""},className:"mb-2",value:I,sx:m,onChange:e=>{B(e.target.value)},type:"date"}),E?(0,p.jsx)("small",{style:{color:"red"},children:"Validity Date is Required"}):"",(0,p.jsx)(c.A,{className:"mb-1",children:"Select Affiliate"}),(0,p.jsx)("select",{onChange:e=>{k(e.target.value)},style:{width:"100%",height:"50px",outline:E?"1px solid red":""},children:(0,p.jsx)("option",{value:t,children:"".concat(O.name," - ").concat(O.mobile)})}),L?(0,p.jsx)("small",{style:{color:"red"},children:"Affiliation is Required"}):"",(0,p.jsx)("br",{})]})})})})]})}},78317:function(e,t,a){a.d(t,{A:function(){return y}});var o=a(58168),r=a(98587),n=a(9950),i=a(72004),l=a(6204),s=a(84222),c=a(28620),d=a(52740),u=a(44414);const p=["className","component"];var m=a(44501),h=a(47775),v=a(67550);var g=(0,a(1763).A)("MuiBox",["root"]);const x=(0,h.A)(),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:a,defaultClassName:m="MuiBox-root",generateClassName:h}=e,v=(0,l.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(s.A);return n.forwardRef(function(e,n){const l=(0,d.A)(a),s=(0,c.A)(e),{className:g,component:x="div"}=s,f=(0,r.A)(s,p);return(0,u.jsx)(v,(0,o.A)({as:x,ref:n,className:(0,i.A)(g,h?h(m):m),theme:t&&l[t]||l},f))})}({themeId:v.A,defaultTheme:x,defaultClassName:g.root,generateClassName:m.A.generate});var y=f},82053:function(e,t,a){a.d(t,{A:function(){return b}});var o=a(98587),r=a(58168),n=a(9950),i=a(72004),l=a(28620),s=a(88465),c=a(59254),d=a(4236),u=a(61676),p=a(1763),m=a(423);function h(e){return(0,m.Ay)("MuiTypography",e)}(0,p.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var v=a(44414);const g=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],x=(0,c.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.variant&&t[a.variant],"inherit"!==a.align&&t["align".concat((0,u.A)(a.align))],a.noWrap&&t.noWrap,a.gutterBottom&&t.gutterBottom,a.paragraph&&t.paragraph]}})(e=>{let{theme:t,ownerState:a}=e;return(0,r.A)({margin:0},"inherit"===a.variant&&{font:"inherit"},"inherit"!==a.variant&&t.typography[a.variant],"inherit"!==a.align&&{textAlign:a.align},a.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},a.gutterBottom&&{marginBottom:"0.35em"},a.paragraph&&{marginBottom:16})}),f={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var b=n.forwardRef(function(e,t){const a=(0,d.b)({props:e,name:"MuiTypography"}),n=(e=>y[e]||e)(a.color),c=(0,l.A)((0,r.A)({},a,{color:n})),{align:p="inherit",className:m,component:b,gutterBottom:A=!1,noWrap:S=!1,paragraph:w=!1,variant:z="body1",variantMapping:C=f}=c,j=(0,o.A)(c,g),N=(0,r.A)({},c,{align:p,color:n,className:m,component:b,gutterBottom:A,noWrap:S,paragraph:w,variant:z,variantMapping:C}),I=b||(w?"p":C[z]||f[z])||"span",B=(e=>{const{align:t,gutterBottom:a,noWrap:o,paragraph:r,variant:n,classes:i}=e,l={root:["root",n,"inherit"!==e.align&&"align".concat((0,u.A)(t)),a&&"gutterBottom",o&&"noWrap",r&&"paragraph"]};return(0,s.A)(l,h,i)})(N);return(0,v.jsx)(x,(0,r.A)({as:I,ref:t,ownerState:N,className:(0,i.A)(B.root,m)},j))})}}]);