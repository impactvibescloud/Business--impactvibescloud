"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4946],{94946:function(e,s,t){t.r(s);var a=t(9950),l=t(42074),i=t(26910),n=t(11031),c=t(44414);s.default=function(){const e=(0,n.g)(),[s,t]=(0,a.useState)(!0),[r,d]=(0,a.useState)(!0),[o,m]=(0,a.useState)([]);console.log(o);const[h,x]=(0,a.useState)(1),[u,j]=(0,a.useState)(10),[p,N]=(0,a.useState)(o);return(0,a.useEffect)(()=>{i.A.get("/api/order/getAll/new",{headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(e)}}).then(e=>{const s=e.data.order.filter(e=>"PointOfSale"===e.orderType&&"cod"===e.paymentMode);m(s),t(!1)}).catch(e=>{console.log(e),t(!1)})},[r]),(0,a.useEffect)(()=>{(()=>{const e=h*u,s=e-u;N(o.slice(s,e))})()},[h,u,o]),(0,c.jsx)("div",{className:"main-content",children:(0,c.jsx)("div",{className:"page-content",children:(0,c.jsxs)("div",{className:"container-fluid",children:[(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-12",children:(0,c.jsx)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:(0,c.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"New Orders"})})})}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-lg-12",children:(0,c.jsx)("div",{className:"card",children:(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsx)("div",{className:"row ml-0 mr-0 mb-10",children:(0,c.jsx)("div",{className:"col-sm-12 col-md-12",children:(0,c.jsx)("div",{className:"dataTables_length",children:(0,c.jsxs)("label",{className:"w-100",children:["Show",(0,c.jsxs)("select",{style:{width:"10%"},name:"",onChange:e=>(e=>{x(1),j(e.target.value)})(e),className:" select-w custom-select custom-select-sm form-control form-control-sm ",children:[(0,c.jsx)("option",{value:"10",children:"10"}),(0,c.jsx)("option",{value:"25",children:"25"}),(0,c.jsx)("option",{value:"50",children:"50"}),(0,c.jsx)("option",{value:"100",children:"100"})]}),"entries"]})})})}),(0,c.jsx)("div",{className:"table-responsive table-shoot mt-3",children:(0,c.jsxs)("table",{className:"table table-centered table-nowrap",style:{border:"1px solid"},children:[(0,c.jsx)("thead",{className:"thead",style:{background:"rgb(140, 213, 213)"},children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"text-start",children:"Order ID"}),(0,c.jsx)("th",{className:"text-start",children:"Customer"}),(0,c.jsx)("th",{className:"text-start",children:"Order value"}),(0,c.jsx)("th",{className:"text-start",children:"Order At"}),(0,c.jsx)("th",{className:"text-start",children:"Status"}),(0,c.jsx)("th",{className:"text-start",children:"Actions"})]})}),(0,c.jsxs)("tbody",{children:[!s&&0===p.length&&(0,c.jsx)("tr",{className:"text-center",children:(0,c.jsx)("td",{colSpan:"6",children:(0,c.jsx)("h5",{children:"No Data Available"})})}),s?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{className:"text-center",colSpan:"6",children:"Loading..."})}):p.map((e,s)=>{var t;return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"text-start",children:null===e||void 0===e?void 0:e.orderID}),(0,c.jsx)("td",{className:"text-start",children:null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name}),(0,c.jsxs)("td",{className:"text-start",children:["\u20b9",null===e||void 0===e?void 0:e.total_amount]}),(0,c.jsx)("td",{className:"text-start",children:new Date(null===e||void 0===e?void 0:e.createdAt).toLocaleString("en-IN",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0})}),(0,c.jsx)("td",{className:"text-start",children:(0,c.jsx)("span",{className:"badge text-bg-primary text-white",children:null===e||void 0===e?void 0:e.orderStatus})}),(0,c.jsx)("td",{className:"text-start",children:(0,c.jsx)(l.N_,{to:"/inStoreOrders/".concat(e.orderStatus,"/").concat(e._id),children:(0,c.jsx)("button",{style:{color:"white"},type:"button",className:" btn btn-primary btn-sm waves-effect waves-light btn-table ms-2 mt-1 ",children:"View"})})})]},s)})]})]})}),(0,c.jsxs)("div",{className:"row mt-20",children:[(0,c.jsx)("div",{className:"col-sm-12 col-md-6 mb-20",children:(0,c.jsxs)("div",{className:"dataTables_info",id:"datatable_info",role:"status","aria-live":"polite",children:["Showing ",h*u-u+1," to"," ",Math.min(h*u,o.length)," ","of ",o.length," entries"]})}),(0,c.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,c.jsx)("div",{className:"d-flex",children:(0,c.jsxs)("ul",{className:"pagination ms-auto",children:[(0,c.jsx)("li",{className:1===h?"paginate_button page-item previous disabled":"paginate_button page-item previous",children:(0,c.jsx)("span",{className:"page-link",style:{cursor:"pointer"},onClick:()=>x(e=>e-1),children:"Previous"})}),!(h-1<1)&&(0,c.jsx)("li",{className:"paginate_button page-item",children:(0,c.jsx)("span",{className:"page-link",style:{cursor:"pointer"},onClick:e=>x(e=>e-1),children:h-1})}),(0,c.jsx)("li",{className:"paginate_button page-item active",children:(0,c.jsx)("span",{className:"page-link",style:{cursor:"pointer"},children:h})}),!((h+1)*u-u>o.length-1)&&(0,c.jsx)("li",{className:"paginate_button page-item ",children:(0,c.jsx)("span",{className:"page-link",style:{cursor:"pointer"},onClick:()=>{x(e=>e+1)},children:h+1})}),(0,c.jsx)("li",{className:(h+1)*u-u>o.length-1?"paginate_button page-item next disabled":"paginate_button page-item next",children:(0,c.jsx)("span",{className:"page-link",style:{cursor:"pointer"},onClick:()=>x(e=>e+1),children:"Next"})})]})})})]})]})})})})]})})})}}}]);