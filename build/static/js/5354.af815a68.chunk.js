"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5354],{10226:function(e,t,o){o.d(t,{A:function(){return N}});var a=o(98587),n=o(58168),i=o(9950),r=o(72004),l=o(45537),c=o(88465),s=o(9240),d=o(59254),h=o(19608),u=o(4236),m=o(59271),p=o(61676),v=o(1763),x=o(423);function g(e){return(0,x.Ay)("MuiButton",e)}var f=(0,v.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var b=i.createContext({});var S=i.createContext(void 0),y=o(44414);const w=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],A=e=>(0,n.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),j=(0,d.Ay)(m.A,{shouldForwardProp:e=>(0,h.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t["".concat(o.variant).concat((0,p.A)(o.color))],t["size".concat((0,p.A)(o.size))],t["".concat(o.variant,"Size").concat((0,p.A)(o.size))],"inherit"===o.color&&t.colorInherit,o.disableElevation&&t.disableElevation,o.fullWidth&&t.fullWidth]}})(e=>{let{theme:t,ownerState:o}=e;var a,i;const r="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],l="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,n.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,n.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,s.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[o.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,s.X4)(t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat((t.vars||t).palette[o.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[o.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,s.X4)(t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:l,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:(t.vars||t).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[o.color].main}}),"&:active":(0,n.A)({},"contained"===o.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(f.focusVisible)]:(0,n.A)({},"contained"===o.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(f.disabled)]:(0,n.A)({color:(t.vars||t).palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===o.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:(t.vars||t).palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===o.variant&&"inherit"!==o.color&&{color:(t.vars||t).palette[o.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[o.color].mainChannel," / 0.5)"):"1px solid ".concat((0,s.X4)(t.palette[o.color].main,.5))},"contained"===o.variant&&{color:t.vars?t.vars.palette.text.primary:null==(a=(i=t.palette).getContrastText)?void 0:a.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:r,boxShadow:(t.vars||t).shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:(t.vars||t).palette[o.color].contrastText,backgroundColor:(t.vars||t).palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})},e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(f.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(f.disabled)]:{boxShadow:"none"}}}),z=(0,d.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.startIcon,t["iconSize".concat((0,p.A)(o.size))]]}})(e=>{let{ownerState:t}=e;return(0,n.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},A(t))}),C=(0,d.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.endIcon,t["iconSize".concat((0,p.A)(o.size))]]}})(e=>{let{ownerState:t}=e;return(0,n.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},A(t))});var N=i.forwardRef(function(e,t){const o=i.useContext(b),s=i.useContext(S),d=(0,l.A)(o,e),h=(0,u.b)({props:d,name:"MuiButton"}),{children:m,color:v="primary",component:x="button",className:f,disabled:A=!1,disableElevation:N=!1,disableFocusRipple:_=!1,endIcon:k,focusVisibleClassName:R,fullWidth:I=!1,size:B="medium",startIcon:E,type:M,variant:W="text"}=h,T=(0,a.A)(h,w),V=(0,n.A)({},h,{color:v,component:x,disabled:A,disableElevation:N,disableFocusRipple:_,fullWidth:I,size:B,type:M,variant:W}),L=(e=>{const{color:t,disableElevation:o,fullWidth:a,size:i,variant:r,classes:l}=e,s={root:["root",r,"".concat(r).concat((0,p.A)(t)),"size".concat((0,p.A)(i)),"".concat(r,"Size").concat((0,p.A)(i)),"color".concat((0,p.A)(t)),o&&"disableElevation",a&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,p.A)(i))],endIcon:["icon","endIcon","iconSize".concat((0,p.A)(i))]},d=(0,c.A)(s,g,l);return(0,n.A)({},l,d)})(V),P=E&&(0,y.jsx)(z,{className:L.startIcon,ownerState:V,children:E}),O=k&&(0,y.jsx)(C,{className:L.endIcon,ownerState:V,children:k}),F=s||"";return(0,y.jsxs)(j,(0,n.A)({ownerState:V,className:(0,r.A)(o.className,L.root,f,F),component:x,disabled:A,focusRipple:!_,focusVisibleClassName:(0,r.A)(L.focusVisible,R),ref:t,type:M},T,{classes:L,children:[P,m,O]}))})},23235:function(e,t,o){o.d(t,{A:function(){return b}});var a=o(58168),n=o(9950),i=o(98587),r=o(72004),l=o(88465),c=o(61676),s=o(4236),d=o(59254),h=o(1763),u=o(423);function m(e){return(0,u.Ay)("MuiSvgIcon",e)}(0,h.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=o(44414);const v=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],x=(0,d.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,"inherit"!==o.color&&t["color".concat((0,c.A)(o.color))],t["fontSize".concat((0,c.A)(o.fontSize))]]}})(e=>{let{theme:t,ownerState:o}=e;var a,n,i,r,l,c,s,d,h,u,m,p,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:o.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(a=t.transitions)||null==(n=a.create)?void 0:n.call(a,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(r=t.typography)||null==(l=r.pxToRem)?void 0:l.call(r,20))||"1.25rem",medium:(null==(c=t.typography)||null==(s=c.pxToRem)?void 0:s.call(c,24))||"1.5rem",large:(null==(d=t.typography)||null==(h=d.pxToRem)?void 0:h.call(d,35))||"2.1875rem"}[o.fontSize],color:null!=(u=null==(m=(t.vars||t).palette)||null==(m=m[o.color])?void 0:m.main)?u:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(v=(t.vars||t).palette)||null==(v=v.action)?void 0:v.disabled,inherit:void 0}[o.color]}}),g=n.forwardRef(function(e,t){const o=(0,s.b)({props:e,name:"MuiSvgIcon"}),{children:d,className:h,color:u="inherit",component:g="svg",fontSize:f="medium",htmlColor:b,inheritViewBox:S=!1,titleAccess:y,viewBox:w="0 0 24 24"}=o,A=(0,i.A)(o,v),j=n.isValidElement(d)&&"svg"===d.type,z=(0,a.A)({},o,{color:u,component:g,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:S,viewBox:w,hasSvgAsChild:j}),C={};S||(C.viewBox=w);const N=(e=>{const{color:t,fontSize:o,classes:a}=e,n={root:["root","inherit"!==t&&"color".concat((0,c.A)(t)),"fontSize".concat((0,c.A)(o))]};return(0,l.A)(n,m,a)})(z);return(0,p.jsxs)(x,(0,a.A)({as:g,className:(0,r.A)(N.root,h),focusable:"false",color:b,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},C,A,j&&d.props,{ownerState:z,children:[j?d.props.children:d,y?(0,p.jsx)("title",{children:y}):null]}))});g.muiName="SvgIcon";var f=g;function b(e,t){function o(o,n){return(0,p.jsx)(f,(0,a.A)({"data-testid":"".concat(t,"Icon"),ref:n},o,{children:e}))}return o.muiName=f.muiName,n.memo(n.forwardRef(o))}},46822:function(e,t,o){o.r(t);var a=o(9950),n=o(26910),i=o(28429),r=o(42074),l=o(10226),c=o(4753),s=o(11031),d=o(44414);t.default=()=>{const e=(0,s.g)(),t=(0,i.Zp)(),[o,h]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),p=()=>{n.A.get("/api/v1/affiliate/getall",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{console.log(null===e||void 0===e?void 0:e.data),m(!1),h(e.data.message)}).catch(e=>{var t,o;m(!1);const a=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)||"Something went wrong!";console.log(a)})};(0,a.useEffect)(()=>{p()},[]);const[v,x]=(0,a.useState)(10),[g,f]=(0,a.useState)(1);return(0,d.jsx)("div",{className:"main-content",children:(0,d.jsx)("div",{className:"my-3 page-content",children:(0,d.jsxs)("div",{className:"container-fluid",children:[(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-12",children:(0,d.jsxs)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:[(0,d.jsx)("div",{style:{fontSize:"22px",fontWeight:"bold"},className:"fw-bold",children:"Affiliates"}),(0,d.jsx)("div",{className:"page-title-right",children:(0,d.jsx)(l.A,{onClick:()=>{t("/affiliate/affiliates/create")},variant:"contained",color:"primary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},children:"Add New Affiliate"})})]})})}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-lg-12",children:(0,d.jsx)("div",{className:"card",children:(0,d.jsx)("div",{className:"card-body",children:(0,d.jsx)("div",{className:"row ml-0 mr-0 mb-10",children:(0,d.jsx)("div",{className:"col-sm-12 col-md-12",children:(0,d.jsx)("div",{className:"dataTables_length",children:(0,d.jsxs)("label",{className:"w-100",children:["Show",(0,d.jsxs)("select",{style:{width:"10%"},onChange:e=>x(e.target.value),className:" select-w custom-select custom-select-sm form-control form-control-sm ",children:[(0,d.jsx)("option",{value:"10",children:"10"}),(0,d.jsx)("option",{value:"25",children:"25"}),(0,d.jsx)("option",{value:"50",children:"50"}),(0,d.jsx)("option",{value:"100",children:"100"})]}),"entries"]})})})})})})})}),(0,d.jsx)("div",{className:"table-responsive table-shoot mt-3",children:(0,d.jsxs)("table",{className:"table table-centered table-nowrap",style:{border:"1px solid"},children:[(0,d.jsx)("thead",{className:"thead-info",style:{background:"rgb(140, 213, 213)"},children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:" Affiliate"}),(0,d.jsx)("th",{children:" Coupon Code"}),(0,d.jsx)("th",{children:"Coupon Claimed"}),(0,d.jsx)("th",{children:"Total Amount Earned"}),(0,d.jsx)("th",{children:"Amount to be Paid"}),(0,d.jsx)("th",{children:"Status"}),(0,d.jsx)("th",{children:"Action"})]})}),(0,d.jsxs)("tbody",{children:[" ",!u&&0===o.length&&(0,d.jsx)("tr",{className:"text-center",children:(0,d.jsx)("td",{children:(0,d.jsx)("h5",{children:"No Data Available"})})}),u?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{className:"text-center",children:"Loading..."})}):o&&o.slice(("".concat(g)-1)*v,"".concat(g)*v).map((t,o)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:t.name}),t.coupon_code?(0,d.jsx)("td",{children:t.coupon_code}):(0,d.jsx)("td",{children:"NONE"}),t.coupon_claimed?(0,d.jsx)("td",{children:t.coupon_claimed}):(0,d.jsx)("td",{children:"0"}),t.total_earning?(0,d.jsxs)("td",{children:["\u20b9",t.total_earning]}):(0,d.jsx)("td",{children:"\u20b90"}),t.total_earning?(0,d.jsxs)("td",{children:["\u20b9",t.total_earning-t.paid_amount]}):(0,d.jsx)("td",{children:"\u20b90"}),t.is_affiliate_active?(0,d.jsx)("td",{children:(0,d.jsxs)("p",{style:{backgroundColor:"green",color:"white",display:"inline-block",padding:"2px",width:"65px",borderRadius:"8px",textAlign:"center"},children:[" ","active"]})}):(0,d.jsx)("td",{children:(0,d.jsxs)("p",{style:{backgroundColor:"red",color:"white",display:"inline-block",padding:"2px",width:"65px",textAlign:"center",borderRadius:"8px"},children:[" ","unactive"]})}),(0,d.jsxs)("td",{children:[(0,d.jsx)(r.N_,{to:"/affiliate/affiliates/edit/".concat(t._id),children:(0,d.jsx)("button",{style:{color:"white",marginRight:"1rem"},type:"button",className:" btn btn-primary btn-sm waves-effect waves-light btn-table mx-1 mt-1 ",children:"Edit"})}),(0,d.jsx)("button",{style:{color:"white",marginRight:"1rem",background:"".concat(t.is_affiliate_active?"red":"green")},onClick:()=>{return o=t._id,a=t.is_affiliate_active,void n.A.patch("api/v1/affiliate/suspend",{id:o,is_affiliate_active:!a},{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{p()}).catch(e=>{var t,o;const a=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)||"Something went wrong!";console.log(a)});var o,a},type:"button",className:" btn  btn-sm waves-effect waves-light btn-table mx-1 mt-1 ",children:t.is_affiliate_active?"Suspend":"Activate"}),t.total_earning-t.paid_amount!=0?(0,d.jsx)(r.N_,{to:"/affiliate/affiliates/pay/".concat(t._id),children:(0,d.jsx)("button",{style:{color:"white",marginRight:"1rem",background:"green"},type:"button",className:" btn  btn-sm waves-effect waves-light btn-table mx-1 mt-1 ",children:"Pay"})}):(0,d.jsx)("button",{disabled:!0,style:{color:"white",marginRight:"1rem",background:"green"},type:"button",className:" btn  btn-sm waves-effect waves-light btn-table mx-1 mt-1 ",children:"Pay"}),(0,d.jsx)(r.N_,{to:"/affiliate/affiliates/history/".concat(t._id),children:(0,d.jsx)("button",{style:{color:"white",marginRight:"1rem",background:"grey"},type:"button",className:" btn  btn-sm waves-effect waves-light btn-table mx-1 mt-1 ",children:"History"})})]})]},o))]})]})}),(0,d.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:(0,d.jsx)(c.A,{style:{margin:"2rem"},variant:"outlined",size:"large",count:Math.max(1,Math.ceil(o.length/v)),color:"primary",onChange:(e,t)=>f(t)})})]})})})}},63931:function(e,t,o){o.d(t,{A:function(){return n}});var a=o(9950);function n(e){let{controlled:t,default:o,name:n,state:i="value"}=e;const{current:r}=a.useRef(void 0!==t),[l,c]=a.useState(o);return[r?t:l,a.useCallback(e=>{r||c(e)},[])]}},95381:function(e,t,o){o.d(t,{I:function(){return i}});var a=o(9950);o(44414);const n=a.createContext();const i=()=>{const e=a.useContext(n);return null!=e&&e}}}]);