"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2816],{82816:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var a=r(9950),i=r(10226),l=r(28429),n=r(42074),s=r(6536),o=r.n(s),d=r(26910),c=r(11031),g=r(10939);!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}(".rti--container *{box-sizing:border-box;transition:all .2s ease}.rti--container{--rti-bg: #fff;--rti-border: #ccc;--rti-main: #3182ce;--rti-radius: .375rem;--rti-s: .5rem;--rti-tag: #edf2f7;--rti-tag-remove: #e53e3e;--rti-tag-padding: .15rem .25rem;align-items:center;background:var(--rti-bg);border:1px solid var(--rti-border);border-radius:var(--rti-radius);display:flex;flex-wrap:wrap;gap:var(--rti-s);line-height:1.4;padding:var(--rti-s)}.rti--container:focus-within{border-color:var(--rti-main);box-shadow:var(--rti-main) 0 0 0 1px}.rti--input{border:0;outline:0;font-size:inherit;line-height:inherit;width:50%}.rti--tag{align-items:center;background:var(--rti-tag);border-radius:var(--rti-radius);display:inline-flex;justify-content:center;padding:var(--rti-tag-padding)}.rti--tag button{background:none;border:0;border-radius:50%;cursor:pointer;line-height:inherit;padding:0 var(--rti-s)}.rti--tag button:hover{color:var(--rti-tag-remove)}\n");var m=r(78317),p=r(29925),h=r(82108),u=r(47065),x=r(77212),b=r(44414);var v=()=>{const e=(0,c.g)(),t=(0,l.Zp)(),[r,s]=(0,a.useState)(!1),[v,f]=(0,a.useState)(null),[j,y]=(0,a.useState)(""),[N,w]=(0,a.useState)(""),[C,S]=(0,a.useState)(u.EditorState.createEmpty()),[A,_]=(0,a.useState)("");return(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:[(0,b.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"Add Blog"}),(0,b.jsx)("div",{style:{display:"flex",gap:"1rem"},children:(0,b.jsx)("h4",{className:"mb-0"})}),(0,b.jsxs)("div",{className:"page-title-right",children:[(0,b.jsx)(i.A,{variant:"contained",color:"primary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize",marginRight:"5px"},onClick:()=>(()=>{if(!j||!v||!N||!C)return void o()({title:"Warning",text:"All fields are required!",icon:"error",button:"Retry",dangerMode:!0});s(!0);const r=C.getCurrentContent(),a=(0,x.W)(r),i=new FormData;i.append("title",j),i.append("blog_content",a),i.append("image",v),i.append("tags",N),d.A.post("/api/v1/blog/create",i,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}}).then(e=>{o()({title:"Added",text:"Blog added successfully!",icon:"success",button:"ok"}),s(!1),t("/blogs")}).catch(e=>{var t,r,a,i;console.log(e),s(!1);const l=null!==(t=e.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.message?null===(a=e.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message:"Something went wrong!";o()({title:"Warning",text:l,icon:"error",button:"Retry",dangerMode:!0})})})(),disabled:r,children:r?"Loading":"Save"}),(0,b.jsx)(n.N_,{to:"/blogs",children:(0,b.jsx)(i.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},children:"Back"})})]})]})})}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-lg-6 col-md-6  col-sm-12 my-1",children:(0,b.jsx)("div",{className:"card h-100",children:(0,b.jsxs)("div",{className:"card-body px-5",children:[(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"title",className:"form-label",children:"Blog Title"}),(0,b.jsx)("input",{type:"text",className:"form-control",id:"name",placeHolder:"enter Title",value:j,onChange:e=>y(e.target.value)})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"tag",className:"form-label",children:"Tags"}),(0,b.jsx)("input",{type:"text",value:N,onChange:e=>w(e.target.value),className:"form-control",id:"tag",placeHolder:"enter Tags"}),(0,b.jsx)("em",{style:{fontSize:"0.8rem"},children:"enter space or comma to add new tag"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"image",className:"form-label",children:"Blog Image"}),(0,b.jsx)(m.A,{children:(0,b.jsxs)("label",{htmlFor:"upload-Image",children:[(0,b.jsx)(p.A,{style:{display:"none",width:"350px",height:"350px",borderRadius:"10%"},fullWidth:!0,id:"upload-Image",type:"file",accept:".jpg , .png ,.jpeg",label:"file",variant:"outlined",onChange:e=>(e=>{const t=e.target.files;if(_(""),t.length>1)return void _("You can only upload one image.");const r=t[0];["image/jpeg","image/png","image/jpg"].includes(r.type)?f(r):_("Please upload only PNG, JPEG, or JPG files.")})(e)}),(0,b.jsx)(m.A,{style:{borderRadius:"10%"},sx:{margin:"1rem 0rem",cursor:"pointer",width:"100px",height:"100px",border:"2px solid grey",display:"grid",placeItems:"center","&:hover":{background:"rgba(112,112,112,0.5)"}},children:(0,b.jsx)(g.A,{style:{color:"grey",margin:"auto",fontSize:"5rem"},fontSize:"large"})})]})}),A&&(0,b.jsx)("p",{style:{color:"red"},children:A}),(0,b.jsx)("p",{className:"pt-1 pl-2 text-secondary",children:"Upload jpg, jpeg and png only*"}),v&&(0,b.jsx)(m.A,{marginRight:"2rem",children:(0,b.jsx)("img",{src:v?URL.createObjectURL(v):"",alt:"BlogImage",style:{width:70,height:70,marginBottom:"1rem"}})})]})]})})}),(0,b.jsx)("div",{className:"col-lg-6 col-md-6  col-sm-12 my-1",children:(0,b.jsx)("div",{className:"card h-100",children:(0,b.jsxs)("div",{className:"card-body px-5",children:[(0,b.jsx)("label",{children:"Blog Content"}),(0,b.jsx)(h.Editor,{editorState:C,toolbarClassName:"blog-toolbar",wrapperClassName:"wrapperClassName",editorClassName:"blog-content",onEditorStateChange:e=>{S(e)}})]})})})]})]})}}}]);