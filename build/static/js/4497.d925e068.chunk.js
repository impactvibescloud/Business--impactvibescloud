"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4497],{54497:function(e,a,t){t.r(a);var s=t(9950),l=t(10226),n=t(28429),i=t(42074),c=t(6536),o=t.n(c),r=t(66311),m=t(93722),d=t(86008),h=t(26910),u=t(11031),x=t(44414);a.default=()=>{const e=(0,u.g)(),a=(0,n.Zp)(),t=(0,n.g)().id,[c,g]=(0,s.useState)(!1),[v,f]=(0,s.useState)(""),[j,N]=(0,s.useState)(),[b,p]=(0,s.useState)(""),[y,C]=(0,s.useState)(""),[S,F]=(0,s.useState)(""),[w,A]=(0,s.useState)(""),[k,_]=(0,s.useState)(""),[B,L]=(0,s.useState)(),[z,E]=(0,s.useState)(""),[O,T]=(0,s.useState)(),[W,M]=(0,s.useState)(""),[I,K]=(0,s.useState)(""),[P,R]=(0,s.useState)(""),[Z,q]=(0,s.useState)(),[D,G]=(0,s.useState)(),H=r.A.getAllCountries();(0,s.useEffect)(()=>{const e=H.find(e=>e.name===y);if(e){const a=m.Ay.getStatesOfCountry(e.isoCode);q(a)}},[y,H]),(0,s.useEffect)(()=>{if(S){const e=null===Z||void 0===Z?void 0:Z.find(e=>e.name===S);if(e){const a=d.A.getCitiesOfState(e.countryCode,e.isoCode);G(a)}}},[S,Z]),(0,s.useEffect)(()=>{h.A.get("/api/v1/affiliate/getone/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{f(e.data.message.name),N(e.data.message.mobile),p(e.data.message.email),C(e.data.message.country),F(e.data.message.state),A(e.data.message.city),_(e.data.message.address),L(e.data.message.pincode),E(e.data.message.nameAsBank),T(e.data.message.accountNo),M(e.data.message.ifsc),K(e.data.message.bankName),R(e.data.message.branchName)}).catch(e=>{var a,t;const s=(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Something went wrong!";console.log(s)})},[]);return(0,x.jsxs)("div",{className:"container",children:[(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-12",children:(0,x.jsxs)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:[(0,x.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"Edit Affiliate"}),(0,x.jsx)("div",{style:{display:"flex",gap:"1rem"},children:(0,x.jsx)("h4",{className:"mb-0"})}),(0,x.jsxs)("div",{className:"page-title-right",children:[(0,x.jsx)(l.A,{variant:"contained",color:"primary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize",marginRight:"5px"},onClick:()=>(()=>{if(""===v||0===j||""==b||""===y||""===k||0===B||""===z||0===O||""===W||""===I||""===P)return void o()({title:"Warning",text:"Fill all mandatory fields",icon:"error",button:"Close",dangerMode:!0});g(!0);const s={name:v,mobile:j,email:b,country:y,state:S,city:w,address:k,pincode:B,nameAsBank:z,accountNo:O,ifsc:W,bankName:I,branchName:P};h.A.patch("/api/v1/affiliate/edit/".concat(t),s,{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{g(!1),f(""),N(""),p(""),C(""),F(""),A(""),_(""),L(""),E(""),T(""),M(""),K(""),R(""),o()({title:"Congratulations!!",text:"The Coupon was Created successfully!",icon:"success",button:"OK"}),a("/affiliate/affiliates")}).catch(e=>{var a,t;g(!1);const s=(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Something went wrong!";console.log(s)})})(),disabled:c,children:c?"Loading":"Save"}),(0,x.jsx)(i.N_,{to:"/affiliate/affiliates",children:(0,x.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},children:"Back"})})]})]})})}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-lg-6 col-md-6  col-sm-12 my-1",children:(0,x.jsx)("div",{className:"card h-100",children:(0,x.jsxs)("div",{className:"card-body px-5",children:[(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{htmlFor:"title",className:"form-label",children:"Name"}),(0,x.jsx)("input",{type:"text",className:"form-control",id:"name",value:v,maxLength:25,onChange:e=>f(e.target.value)}),v?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("small",{className:"charLeft mt-4 fst-italic",children:[25-v.length," characters left"]})}):(0,x.jsx)(x.Fragment,{})," "]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{htmlFor:"title",className:"form-label",children:"Mobile"}),(0,x.jsx)("input",{type:"number",className:"form-control",id:"mobile",value:j,maxLength:"100",onChange:e=>{e.target.value.length>10||N(e.target.value)}})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{htmlFor:"title",className:"form-label",children:"Email"}),(0,x.jsx)("input",{type:"email",className:"form-control",id:"email",value:b,maxLength:"100",onChange:e=>p(e.target.value)})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{htmlFor:"categorySelect",children:"Select a Country"}),(0,x.jsxs)("select",{id:"country",className:"form-control",style:{width:"100%"},value:y,onChange:async e=>{await C(e.target.value),(Z||D)&&(A(""),F(""),G([]),C(e.target.value))},children:[(0,x.jsx)("option",{value:"None",children:"None"}),H.map(e=>(0,x.jsx)("option",{value:e.name,children:e.name},e.isoCode))]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{htmlFor:"categorySelect",children:"Select a State"}),(0,x.jsxs)("select",{id:"state",className:"form-control",style:{width:"100%"},value:S,onChange:e=>F(e.target.value),children:[(0,x.jsx)("option",{value:"",children:"None"}),null===Z||void 0===Z?void 0:Z.map((e,a)=>(0,x.jsx)("option",{children:e.name},e.isoCode))]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{htmlFor:"categorySelect",children:"Select a City"}),(0,x.jsxs)("select",{id:"city",className:"form-control",style:{width:"100%"},value:w,onChange:e=>A(e.target.value),children:[(0,x.jsx)("option",{value:"",children:"None"}),null===D||void 0===D?void 0:D.map((e,a)=>(0,x.jsx)("option",{value:e.isoCode,children:e.name},a))]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{htmlFor:"title",className:"form-label",children:"Address"}),(0,x.jsx)("input",{type:"text",className:"form-control",id:"address",value:k,maxLength:25,onChange:e=>_(e.target.value)}),v?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("small",{className:"charLeft mt-4 fst-italic",children:[25-v.length," characters left"]})}):(0,x.jsx)(x.Fragment,{})," "]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{htmlFor:"title",className:"form-label",children:"Pincode"}),(0,x.jsx)("input",{type:"number",className:"form-control",id:"pincode",value:B,maxLength:25,onChange:e=>L(e.target.value)}),v?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("small",{className:"charLeft mt-4 fst-italic",children:[25-v.length," characters left"]})}):(0,x.jsx)(x.Fragment,{})," "]})]})})}),(0,x.jsx)("div",{className:"col-lg-6 col-md-6  col-sm-12 my-1",children:(0,x.jsx)("div",{className:"card h-100",children:(0,x.jsxs)("div",{className:"card-body px-5",children:[(0,x.jsxs)("div",{className:"mb-3 me-3",children:[(0,x.jsx)("label",{htmlFor:"title",className:"form-label",children:"Name as per Bank records"}),(0,x.jsx)("input",{type:"text",className:"form-control",id:"nameasbank",value:z,onChange:e=>E(e.target.value)})]}),(0,x.jsxs)("div",{className:"mb-3 me-3",children:[(0,x.jsx)("label",{htmlFor:"title",className:"form-label",children:"Account Number"}),(0,x.jsx)("input",{type:"number",className:"form-control",id:"accountno",value:O,onChange:e=>T(e.target.value)})]}),(0,x.jsxs)("div",{className:"mb-3 me-3",children:[(0,x.jsx)("label",{htmlFor:"title",className:"form-label",children:"IFSC Code"}),(0,x.jsx)("input",{type:"text",className:"form-control",id:"ifsc",value:W,onChange:e=>M(e.target.value)})]}),(0,x.jsxs)("div",{className:"mb-3 me-3",children:[(0,x.jsx)("label",{htmlFor:"title",className:"form-label",children:"Bank Name"}),(0,x.jsx)("input",{type:"text",className:"form-control",id:"bankname",value:I,onChange:e=>K(e.target.value)})]}),(0,x.jsxs)("div",{className:"mb-3 me-3",children:[(0,x.jsx)("label",{htmlFor:"title",className:"form-label",children:"Branch Name"}),(0,x.jsx)("input",{type:"text",className:"form-control",id:"branchname",value:P,onChange:e=>R(e.target.value)})]})]})})})]})]})}}}]);