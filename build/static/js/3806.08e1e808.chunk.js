"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3806],{10226:function(e,a,t){t.d(a,{A:function(){return A}});var o=t(98587),n=t(58168),r=t(9950),i=t(72004),l=t(45537),s=t(88465),c=t(9240),d=t(59254),m=t(19608),u=t(4236),p=t(59271),h=t(61676),v=t(1763),x=t(423);function g(e){return(0,x.Ay)("MuiButton",e)}var b=(0,v.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var f=r.createContext({});var S=r.createContext(void 0),y=t(44414);const j=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],N=e=>(0,n.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),C=(0,d.Ay)(p.A,{shouldForwardProp:e=>(0,m.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,a[t.variant],a["".concat(t.variant).concat((0,h.A)(t.color))],a["size".concat((0,h.A)(t.size))],a["".concat(t.variant,"Size").concat((0,h.A)(t.size))],"inherit"===t.color&&a.colorInherit,t.disableElevation&&a.disableElevation,t.fullWidth&&a.fullWidth]}})(e=>{let{theme:a,ownerState:t}=e;var o,r;const i="light"===a.palette.mode?a.palette.grey[300]:a.palette.grey[800],l="light"===a.palette.mode?a.palette.grey.A100:a.palette.grey[700];return(0,n.A)({},a.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(a.vars||a).shape.borderRadius,transition:a.transitions.create(["background-color","box-shadow","border-color","color"],{duration:a.transitions.duration.short}),"&:hover":(0,n.A)({textDecoration:"none",backgroundColor:a.vars?"rgba(".concat(a.vars.palette.text.primaryChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,c.X4)(a.palette.text.primary,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:a.vars?"rgba(".concat(a.vars.palette[t.color].mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,c.X4)(a.palette[t.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:"1px solid ".concat((a.vars||a).palette[t.color].main),backgroundColor:a.vars?"rgba(".concat(a.vars.palette[t.color].mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,c.X4)(a.palette[t.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:a.vars?a.vars.palette.Button.inheritContainedHoverBg:l,boxShadow:(a.vars||a).shadows[4],"@media (hover: none)":{boxShadow:(a.vars||a).shadows[2],backgroundColor:(a.vars||a).palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:(a.vars||a).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(a.vars||a).palette[t.color].main}}),"&:active":(0,n.A)({},"contained"===t.variant&&{boxShadow:(a.vars||a).shadows[8]}),["&.".concat(b.focusVisible)]:(0,n.A)({},"contained"===t.variant&&{boxShadow:(a.vars||a).shadows[6]}),["&.".concat(b.disabled)]:(0,n.A)({color:(a.vars||a).palette.action.disabled},"outlined"===t.variant&&{border:"1px solid ".concat((a.vars||a).palette.action.disabledBackground)},"contained"===t.variant&&{color:(a.vars||a).palette.action.disabled,boxShadow:(a.vars||a).shadows[0],backgroundColor:(a.vars||a).palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:(a.vars||a).palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===t.variant&&"inherit"!==t.color&&{color:(a.vars||a).palette[t.color].main,border:a.vars?"1px solid rgba(".concat(a.vars.palette[t.color].mainChannel," / 0.5)"):"1px solid ".concat((0,c.X4)(a.palette[t.color].main,.5))},"contained"===t.variant&&{color:a.vars?a.vars.palette.text.primary:null==(o=(r=a.palette).getContrastText)?void 0:o.call(r,a.palette.grey[300]),backgroundColor:a.vars?a.vars.palette.Button.inheritContainedBg:i,boxShadow:(a.vars||a).shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:(a.vars||a).palette[t.color].contrastText,backgroundColor:(a.vars||a).palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:a.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:a.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:a.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:a.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:a.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:a.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},e=>{let{ownerState:a}=e;return a.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(b.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(b.disabled)]:{boxShadow:"none"}}}),z=(0,d.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.startIcon,a["iconSize".concat((0,h.A)(t.size))]]}})(e=>{let{ownerState:a}=e;return(0,n.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===a.size&&{marginLeft:-2},N(a))}),w=(0,d.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.endIcon,a["iconSize".concat((0,h.A)(t.size))]]}})(e=>{let{ownerState:a}=e;return(0,n.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===a.size&&{marginRight:-2},N(a))});var A=r.forwardRef(function(e,a){const t=r.useContext(f),c=r.useContext(S),d=(0,l.A)(t,e),m=(0,u.b)({props:d,name:"MuiButton"}),{children:p,color:v="primary",component:x="button",className:b,disabled:N=!1,disableElevation:A=!1,disableFocusRipple:I=!1,endIcon:_,focusVisibleClassName:k,fullWidth:R=!1,size:F="medium",startIcon:L,type:E,variant:P="text"}=m,B=(0,o.A)(m,j),T=(0,n.A)({},m,{color:v,component:x,disabled:N,disableElevation:A,disableFocusRipple:I,fullWidth:R,size:F,type:E,variant:P}),W=(e=>{const{color:a,disableElevation:t,fullWidth:o,size:r,variant:i,classes:l}=e,c={root:["root",i,"".concat(i).concat((0,h.A)(a)),"size".concat((0,h.A)(r)),"".concat(i,"Size").concat((0,h.A)(r)),"color".concat((0,h.A)(a)),t&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,h.A)(r))],endIcon:["icon","endIcon","iconSize".concat((0,h.A)(r))]},d=(0,s.A)(c,g,l);return(0,n.A)({},l,d)})(T),M=L&&(0,y.jsx)(z,{className:W.startIcon,ownerState:T,children:L}),U=_&&(0,y.jsx)(w,{className:W.endIcon,ownerState:T,children:_}),O=c||"";return(0,y.jsxs)(C,(0,n.A)({ownerState:T,className:(0,i.A)(t.className,W.root,b,O),component:x,disabled:N,focusRipple:!I,focusVisibleClassName:(0,i.A)(W.focusVisible,k),ref:a,type:E},B,{classes:W,children:[M,p,U]}))})},37290:function(e,a,t){var o=t(26910),n=(t(9950),t(6536)),r=t.n(n),i=t(11031),l=t(44414);a.A=e=>{const a=(0,i.g)(),{data:t,setData:n}=e.data,{productId:s,setProductId:c}=e.ProductId,{loading:d,setLoading:m}=e.loading,u=(null===e||void 0===e?void 0:e.categories)||[],p=(null===e||void 0===e?void 0:e.brands)||[],h=e=>{n(a=>({...a,[e.target.id]:e.target.value}))};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,l.jsx)("h5",{children:"Product Details"}),(0,l.jsx)("button",{className:"btn btn-primary btn-sm",type:"button",onClick:()=>{""!==t.name.trim()&&""!==t.price&&""!==t.GST&&""!==t.category&&""!==t.product_Status&&""!==t.HSN_Code&&""!==t.brand?(m(!0),o.A.post("/api/product/create/",{...t,product_id:s},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then(e=>{r()({title:"Saved",text:"Product details saved successfully!",icon:"success",button:"Close"}),c(e.data.product_id),m(!1)}).catch(e=>{var a,t;const o=(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Something went wrong!";r()({title:"Warning",text:o,icon:"warning",button:"Close"}),m(!1)})):r()({title:"Warning",text:"Fill all mandatory fields",icon:"warning",button:"Return"})},disabled:d,children:d?"Loading":"Save Details"})]}),(0,l.jsxs)("div",{className:"mb-3 row d-flex align-items-center",children:[(0,l.jsx)("label",{htmlFor:"SKU",className:"form-label col-sm-3",children:"Product SKU*"}),(0,l.jsx)("div",{className:"col-sm-9",children:(0,l.jsx)("input",{type:"text",className:"form-control",id:"SKU",value:t.SKU,maxLength:"50",onChange:e=>h(e)})})]}),(0,l.jsxs)("div",{className:"mb-3 row d-flex align-items-center",children:[(0,l.jsx)("label",{htmlFor:"name",className:"form-label col-sm-3",children:"Product Name*"}),(0,l.jsx)("div",{className:"col-sm-9",children:(0,l.jsx)("input",{type:"text",className:"form-control",id:"name",value:t.name,maxLength:"50",onChange:e=>h(e)})})]}),(0,l.jsxs)("div",{className:"mb-3 row d-flex align-items-center",children:[(0,l.jsx)("label",{htmlFor:"category",className:"form-label col-sm-3",children:"Category *"}),(0,l.jsx)("div",{className:"col-sm-9",children:(0,l.jsxs)("select",{id:"category",onChange:e=>h(e),className:"form-control",value:t.category,children:[(0,l.jsx)("option",{value:"",children:"---select---"}),u?u.map((e,a)=>(0,l.jsx)("option",{value:e._id,children:e.categoryName},a)):(0,l.jsx)("option",{value:"",disabled:!0,children:"Add Category to select"})]})})]}),(0,l.jsxs)("div",{className:"mb-3 row d-flex align-items-center",children:[(0,l.jsx)("label",{htmlFor:"brand",className:"form-label col-sm-3",children:"Brand *"}),(0,l.jsx)("div",{className:"col-sm-9",children:(0,l.jsxs)("select",{id:"brand",onChange:e=>h(e),className:"form-control",value:t.brand,children:[(0,l.jsx)("option",{value:"",children:"---select---"}),p?p.map((e,a)=>(0,l.jsx)("option",{value:e._id,children:e.brandName},a)):(0,l.jsx)("option",{value:"",disabled:!0,children:"Add Brand to select"})]})})]}),(0,l.jsxs)("div",{className:"mb-3 row d-flex align-items-center",children:[(0,l.jsx)("label",{htmlFor:"price",className:"form-label col-sm-3",children:"Price*"}),(0,l.jsx)("div",{className:"col-sm-9",children:(0,l.jsx)("input",{type:"text",className:"form-control",id:"price",name:"price",value:t.price,maxLength:"6",onChange:e=>h(e)})})]}),(0,l.jsxs)("div",{className:"mb-3 row d-flex align-items-center",children:[(0,l.jsx)("label",{htmlFor:"product_Status",className:"form-label col-sm-3",children:"Product Status"}),(0,l.jsx)("div",{className:"col-sm-9",children:(0,l.jsxs)("select",{className:"form-control",name:"product_Status",id:"product_Status",value:t.product_Status,onChange:e=>h(e),children:[(0,l.jsx)("option",{value:"",children:"--Select--"}),(0,l.jsx)("option",{value:"Active",children:"Active"}),(0,l.jsx)("option",{value:"inActive",children:"inActive"})]})})]}),(0,l.jsxs)("div",{className:"mb-3 row d-flex align-items-center",children:[(0,l.jsx)("label",{htmlFor:"GST",className:"form-label col-sm-3",children:"GST Rate (in %)*"}),(0,l.jsx)("div",{className:"col-sm-9",children:(0,l.jsx)("input",{type:"text",className:"form-control",id:"GST",value:t.GST,maxLength:"3",onChange:e=>h(e)})})]}),(0,l.jsxs)("div",{className:"mb-3 row d-flex align-items-center",children:[(0,l.jsx)("label",{htmlFor:"HSN",className:"form-label col-sm-3",children:"HSN Code*"}),(0,l.jsx)("div",{className:"col-sm-9",children:(0,l.jsx)("input",{type:"text",className:"form-control",id:"HSN_Code",value:t.HSN_Code,maxLength:"50",onChange:e=>h(e)})})]}),(0,l.jsxs)("div",{className:"mb-3 row d-flex align-items-center",children:[(0,l.jsx)("label",{htmlFor:"description",className:"form-label col-sm-3",children:"Description"}),(0,l.jsx)("div",{className:"col-sm-9",children:(0,l.jsx)("textarea",{className:"form-control",id:"description",placeholder:"Text...",value:t.description,onChange:e=>h(e)})})]})]})}},62228:function(e,a,t){var o=t(26910),n=t(9950),r=t(6536),i=t.n(r),l=t(11031),s=t(44414);a.A=e=>{const a=(0,l.g)(),t=e.productId,{images:r,setImages:c}=e.data,{loading:d,setLoading:m}=e.loading,[u,p]=(0,n.useState)([]),[h,v]=(0,n.useState)([]),[x,g]=(0,n.useState)([]);(0,n.useEffect)(()=>{(null===r||void 0===r?void 0:r.length)>0&&p(r.map(e=>({url:e.url,public_id:e.public_id})))},[r]);const b=(e,a)=>{if(a){g(e=>[...e,a]);const t=encodeURIComponent(a),n=(0,l.g)();o.A.delete("/api/product/deleteImage/".concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then(()=>{p(a=>a.filter(a=>a.url!==e)),i()("Success","Image deleted successfully","success")}).catch(e=>{var a;console.error(null===(a=e.response)||void 0===a?void 0:a.data),i()("Error","Failed to delete image","error")})}else v(a=>a.filter(a=>a.url!==e))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"d-flex justify-content-between",children:(0,s.jsx)("h5",{children:"Product Images"})}),(0,s.jsxs)("div",{className:"my-3",children:[(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-lg-9",children:(0,s.jsx)("input",{type:"file",className:"form-control",id:"image",accept:"image/*",multiple:!0,onChange:e=>{const a=Array.from(e.target.files).map(e=>({url:URL.createObjectURL(e),file:e}));v(e=>[...e,...a])}})}),(0,s.jsx)("div",{className:"col-lg-3",children:(0,s.jsx)("button",{className:"btn btn-primary",onClick:()=>{m(!0);const e=new FormData;h.forEach(a=>e.append("images",a.file)),e.append("removedImages",JSON.stringify(x)),o.A.patch("/api/product/update/".concat(t),e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(a)}}).then(e=>{c(e.data.images),v([]),g([]),i()("Success","Product updated successfully","success")}).catch(e=>{console.error(e.response.data),i()("Error","Failed to update product","error")}).finally(()=>m(!1))},disabled:!t||d,children:t?d?"Loading":"Upload":"Product Details not saved"})})]}),(0,s.jsx)("p",{className:"pt-1 pl-2 text-secondary",children:"Upload jpg, jpeg, and png only*"})]}),(0,s.jsxs)("div",{className:"row",children:[u.map(e=>(0,s.jsxs)("div",{className:"col-lg-3 mb-3 position-relative",children:[(0,s.jsx)("img",{src:e.url,alt:"Preview",className:"img-thumbnail"}),(0,s.jsx)("button",{className:"btn btn-danger position-absolute top-0 end-0 m-2",onClick:()=>b(e.url,e.public_id),children:"\xd7"})]},e.url)),h.map(e=>(0,s.jsxs)("div",{className:"col-lg-3 mb-3 position-relative",children:[(0,s.jsx)("img",{src:e.url,alt:"Preview",className:"img-thumbnail"}),(0,s.jsx)("button",{className:"btn btn-danger position-absolute top-0 end-0 m-2",onClick:()=>b(e.url),children:"\xd7"})]},e.url))]})]})}}}]);