"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4887],{14887:function(e,i,n){n.r(i);var s=n(9950),t=n(28429),r=n(78317),l=n(46639),d=n(82053),a=n(2235),o=n(10226),c=n(74745),h=n(60899),u=n(63189),x=n(26910),v=n(11031),A=n(44414);i.default=()=>{var e;const{id:i}=(0,t.g)(),n=(0,t.Zp)(),[j,m]=(0,s.useState)(null),[p,g]=(0,s.useState)(!0),[y,f]=(0,s.useState)(null),_=(0,v.g)();if((0,s.useEffect)(()=>{(async()=>{try{g(!0);const e=await x.A.get("/api/orders/history/".concat(i),{headers:{Authorization:"Bearer ".concat(_)}});console.log(e,"response"),m(e.data),g(!1)}catch(s){var e,n;f((null===(e=s.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Failed to fetch details."),g(!1)}})()},[i]),p)return(0,A.jsx)(r.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,A.jsx)(l.A,{})});if(y)return(0,A.jsx)(r.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,A.jsx)(d.A,{color:"error",children:y})});const{orderId:I,amount:C,createdAt:k,franchiseId:w,paymentDetails:D,selectedIceCream:P,selectedToppings:S}=j;return(0,A.jsxs)(a.A,{sx:{padding:3,margin:3,position:"relative"},children:[(0,A.jsx)(o.A,{variant:"outlined",startIcon:(0,A.jsx)(u.A,{}),onClick:()=>n(-1),sx:{position:"absolute",top:16,right:16},children:"Back"}),(0,A.jsx)(d.A,{variant:"h4",gutterBottom:!0,children:"Order Details"}),(0,A.jsx)(c.A,{sx:{marginBottom:2}}),(0,A.jsxs)(h.Ay,{container:!0,spacing:2,children:[(0,A.jsxs)(h.Ay,{item:!0,xs:12,children:[(0,A.jsx)(d.A,{variant:"h6",children:"Order Information"}),(0,A.jsxs)(d.A,{children:["Order ID: ",I]}),(0,A.jsxs)(d.A,{children:["Amount: \u20b9",C]}),(0,A.jsxs)(d.A,{children:["Franchisee Name: ",(null===w||void 0===w?void 0:w.name)||"N/A"]}),(0,A.jsxs)(d.A,{children:["Franchisee Email: ",(null===w||void 0===w?void 0:w.email)||"N/A"]})]}),(0,A.jsx)(c.A,{sx:{width:"100%",marginY:2}}),(0,A.jsxs)(h.Ay,{item:!0,xs:12,children:[(0,A.jsx)(d.A,{variant:"h6",children:"Selected Ice Cream"}),(0,A.jsxs)(d.A,{children:["Name: ",null===P||void 0===P?void 0:P.name]}),(0,A.jsxs)(d.A,{children:["Price: \u20b9",null===P||void 0===P?void 0:P.price]})]}),(0,A.jsx)(c.A,{sx:{width:"100%",marginY:2}}),(0,A.jsxs)(h.Ay,{item:!0,xs:12,children:[(0,A.jsx)(d.A,{variant:"h6",children:"Selected Toppings"}),(0,A.jsxs)(d.A,{children:["Name: ",null===S||void 0===S?void 0:S.name]}),(0,A.jsxs)(d.A,{children:["Price: \u20b9",null===S||void 0===S?void 0:S.price]})]}),(0,A.jsx)(c.A,{sx:{width:"100%",marginY:2}}),D?(0,A.jsxs)(h.Ay,{item:!0,xs:12,children:[(0,A.jsx)(d.A,{variant:"h6",children:"Payment Details"}),(0,A.jsxs)(d.A,{children:["Payment ID: ",null===D||void 0===D?void 0:D.id]}),(0,A.jsxs)(d.A,{children:["Amount: \u20b9",(null===D||void 0===D?void 0:D.amount)/100]}),(0,A.jsxs)(d.A,{children:["Currency: ",null===D||void 0===D?void 0:D.currency]}),(0,A.jsxs)(d.A,{children:["Status: ",null===D||void 0===D?void 0:D.status]}),(0,A.jsxs)(d.A,{children:["Method: ",null===D||void 0===D?void 0:D.method]}),(0,A.jsxs)(d.A,{children:["VPA: ",null===D||void 0===D?void 0:D.vpa]}),(0,A.jsxs)(d.A,{children:["Email: ",null===D||void 0===D?void 0:D.email]}),(0,A.jsxs)(d.A,{children:["Contact: ",null===D||void 0===D?void 0:D.contact]}),(0,A.jsxs)(d.A,{children:["Description: ",null===D||void 0===D||null===(e=D.notes)||void 0===e?void 0:e.description]})]}):(0,A.jsx)(d.A,{children:"Payment not made yet"})]})]})}}}]);