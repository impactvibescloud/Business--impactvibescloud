"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4381],{34381:function(e,a,l){l.r(a);var t=l(9950),s=l(10226),n=l(42074),i=l(6536),c=l.n(i),r=l(66311),o=l(93722),m=l(86008),d=l(26910),h=l(11031),u=l(44414);a.default=()=>{const e=(0,h.g)(),[a,l]=(0,t.useState)(!1),[i,x]=(0,t.useState)(""),[v,g]=(0,t.useState)(),[j,f]=(0,t.useState)(""),[N,b]=(0,t.useState)(""),[p,y]=(0,t.useState)(""),[C,S]=(0,t.useState)(""),[F,A]=(0,t.useState)(""),[w,_]=(0,t.useState)(),[k,B]=(0,t.useState)(""),[L,z]=(0,t.useState)(),[O,W]=(0,t.useState)(""),[E,M]=(0,t.useState)(""),[T,R]=(0,t.useState)(""),[I,K]=(0,t.useState)(),[P,q]=(0,t.useState)(),D=r.A.getAllCountries();(0,t.useEffect)(()=>{const e=D.find(e=>e.name===N);if(e){const a=o.Ay.getStatesOfCountry(e.isoCode);K(a)}},[N,D]),(0,t.useEffect)(()=>{if(p){const e=I.find(e=>e.name===p);if(e){const a=m.A.getCitiesOfState(e.countryCode,e.isoCode);q(a)}}},[p,I]);return(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-12",children:(0,u.jsxs)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:[(0,u.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"Add Affiliate"}),(0,u.jsx)("div",{style:{display:"flex",gap:"1rem"},children:(0,u.jsx)("h4",{className:"mb-0"})}),(0,u.jsxs)("div",{className:"page-title-right",children:[(0,u.jsx)(s.A,{variant:"contained",color:"primary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize",marginRight:"5px"},onClick:()=>(()=>{if(""===i||0===v||""==j||""===N||""===F||0===w||""===k||0===L||""===O||""===E||""===T)return void c()({title:"Warning",text:"Fill all mandatory fields",icon:"error",button:"Close",dangerMode:!0});l(!0);const a={name:i,mobile:v,email:j,country:N,state:p,city:C,address:F,pincode:w,nameAsBank:k,accountNo:L,ifsc:O,bankName:E,branchName:T};d.A.post("/api/v1/affiliate/create",a,{headers:{Authorization:"Bearer ".concat(e),"Access-Control-Allow-Origin":"*"}}).then(e=>{l(!1),x(""),g(""),f(""),b(""),y(""),S(""),A(""),_(""),B(""),z(""),W(""),M(""),R(""),c()({title:"Congratulations!!",text:"The Coupon was Created successfully!",icon:"success",button:"OK"})}).catch(e=>{var a,t,s,n;l(!1);const i=null!==(a=e.response)&&void 0!==a&&null!==(t=a.data)&&void 0!==t&&t.message?null===(s=e.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message:"Something went wrong!";c()({title:"Warning",text:i,icon:"error",button:"Retry",dangerMode:!0})})})(),disabled:a,children:a?"Loading":"Save"}),(0,u.jsx)(n.N_,{to:"/affiliate/affiliates",children:(0,u.jsx)(s.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},children:"Back"})})]})]})})}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-lg-6 col-md-6  col-sm-12 my-1",children:(0,u.jsx)("div",{className:"card h-100",children:(0,u.jsxs)("div",{className:"card-body px-5",children:[(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"title",className:"form-label",children:"Name"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"name",value:i,maxLength:25,onChange:e=>x(e.target.value)}),i?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("small",{className:"charLeft mt-4 fst-italic",children:[25-i.length," characters left"]})}):(0,u.jsx)(u.Fragment,{})," "]}),(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"title",className:"form-label",children:"Mobile"}),(0,u.jsx)("input",{type:"number",className:"form-control",id:"mobile",value:v,onChange:e=>{e.target.value.length>10||g(e.target.value)}})]}),(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"title",className:"form-label",children:"Email"}),(0,u.jsx)("input",{type:"email",className:"form-control",id:"email",value:j,maxLength:"100",onChange:e=>f(e.target.value)})]}),(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"categorySelect",children:"Select a Country"}),(0,u.jsxs)("select",{id:"country",className:"form-control",style:{width:"100%"},value:N,onChange:async e=>{await b(e.target.value),(I||P)&&(S(""),y(""),q([]),b(e.target.value))},children:[(0,u.jsx)("option",{value:"None",children:"None"}),D.map(e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.isoCode))]})]}),(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"categorySelect",children:"Select a State"}),(0,u.jsxs)("select",{id:"state",className:"form-control",style:{width:"100%"},value:p,onChange:e=>y(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"None"}),null===I||void 0===I?void 0:I.map(e=>(0,u.jsx)("option",{children:e.name},e.isoCode))]})]}),(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"categorySelect",children:"Select a City"}),(0,u.jsxs)("select",{id:"city",className:"form-control",style:{width:"100%"},value:C,onChange:e=>S(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"None"}),null===P||void 0===P?void 0:P.map(e=>(0,u.jsx)("option",{value:e.isoCode,children:e.name}))]})]}),(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"title",className:"form-label",children:"Address"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"address",value:F,maxLength:25,onChange:e=>A(e.target.value)}),i?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("small",{className:"charLeft mt-4 fst-italic",children:[25-i.length," characters left"]})}):(0,u.jsx)(u.Fragment,{})," "]}),(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"title",className:"form-label",children:"Pincode"}),(0,u.jsx)("input",{type:"number",className:"form-control",id:"pincode",value:w,maxLength:25,onChange:e=>_(e.target.value)}),i?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("small",{className:"charLeft mt-4 fst-italic",children:[25-i.length," characters left"]})}):(0,u.jsx)(u.Fragment,{})," "]})]})})}),(0,u.jsx)("div",{className:"col-lg-6 col-md-6  col-sm-12 my-1",children:(0,u.jsx)("div",{className:"card h-100",children:(0,u.jsxs)("div",{className:"card-body px-5",children:[(0,u.jsxs)("div",{className:"mb-3 me-3",children:[(0,u.jsx)("label",{htmlFor:"title",className:"form-label",children:"Name as per Bank records"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"nameasbank",value:k,onChange:e=>B(e.target.value)})]}),(0,u.jsxs)("div",{className:"mb-3 me-3",children:[(0,u.jsx)("label",{htmlFor:"title",className:"form-label",children:"Account Number"}),(0,u.jsx)("input",{type:"number",className:"form-control",id:"accountno",value:L,onChange:e=>z(e.target.value)})]}),(0,u.jsxs)("div",{className:"mb-3 me-3",children:[(0,u.jsx)("label",{htmlFor:"title",className:"form-label",children:"IFSC Code"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"ifsc",value:O,onChange:e=>W(e.target.value)})]}),(0,u.jsxs)("div",{className:"mb-3 me-3",children:[(0,u.jsx)("label",{htmlFor:"title",className:"form-label",children:"Bank Name"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"bankname",value:E,onChange:e=>M(e.target.value)})]}),(0,u.jsxs)("div",{className:"mb-3 me-3",children:[(0,u.jsx)("label",{htmlFor:"title",className:"form-label",children:"Branch Name"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"branchname",value:T,onChange:e=>R(e.target.value)})]})]})})})]})]})}}}]);