"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1613],{10226:function(e,t,o){o.d(t,{A:function(){return N}});var n=o(98587),a=o(58168),i=o(9950),r=o(72004),l=o(45537),c=o(88465),s=o(9240),d=o(59254),u=o(19608),h=o(4236),p=o(59271),v=o(61676),m=o(1763),x=o(423);function g(e){return(0,x.Ay)("MuiButton",e)}var b=(0,m.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var f=i.createContext({});var S=i.createContext(void 0),y=o(44414);const w=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],z=e=>(0,a.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),A=(0,d.Ay)(p.A,{shouldForwardProp:e=>(0,u.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t["".concat(o.variant).concat((0,v.A)(o.color))],t["size".concat((0,v.A)(o.size))],t["".concat(o.variant,"Size").concat((0,v.A)(o.size))],"inherit"===o.color&&t.colorInherit,o.disableElevation&&t.disableElevation,o.fullWidth&&t.fullWidth]}})(e=>{let{theme:t,ownerState:o}=e;var n,i;const r="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],l="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,a.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,a.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,s.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[o.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,s.X4)(t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat((t.vars||t).palette[o.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[o.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,s.X4)(t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:l,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:(t.vars||t).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[o.color].main}}),"&:active":(0,a.A)({},"contained"===o.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(b.focusVisible)]:(0,a.A)({},"contained"===o.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(b.disabled)]:(0,a.A)({color:(t.vars||t).palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===o.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:(t.vars||t).palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===o.variant&&"inherit"!==o.color&&{color:(t.vars||t).palette[o.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[o.color].mainChannel," / 0.5)"):"1px solid ".concat((0,s.X4)(t.palette[o.color].main,.5))},"contained"===o.variant&&{color:t.vars?t.vars.palette.text.primary:null==(n=(i=t.palette).getContrastText)?void 0:n.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:r,boxShadow:(t.vars||t).shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:(t.vars||t).palette[o.color].contrastText,backgroundColor:(t.vars||t).palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})},e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(b.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(b.disabled)]:{boxShadow:"none"}}}),j=(0,d.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.startIcon,t["iconSize".concat((0,v.A)(o.size))]]}})(e=>{let{ownerState:t}=e;return(0,a.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},z(t))}),C=(0,d.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.endIcon,t["iconSize".concat((0,v.A)(o.size))]]}})(e=>{let{ownerState:t}=e;return(0,a.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},z(t))});var N=i.forwardRef(function(e,t){const o=i.useContext(f),s=i.useContext(S),d=(0,l.A)(o,e),u=(0,h.b)({props:d,name:"MuiButton"}),{children:p,color:m="primary",component:x="button",className:b,disabled:z=!1,disableElevation:N=!1,disableFocusRipple:k=!1,endIcon:I,focusVisibleClassName:R,fullWidth:_=!1,size:B="medium",startIcon:E,type:M,variant:W="text"}=u,T=(0,n.A)(u,w),V=(0,a.A)({},u,{color:m,component:x,disabled:z,disableElevation:N,disableFocusRipple:k,fullWidth:_,size:B,type:M,variant:W}),L=(e=>{const{color:t,disableElevation:o,fullWidth:n,size:i,variant:r,classes:l}=e,s={root:["root",r,"".concat(r).concat((0,v.A)(t)),"size".concat((0,v.A)(i)),"".concat(r,"Size").concat((0,v.A)(i)),"color".concat((0,v.A)(t)),o&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,v.A)(i))],endIcon:["icon","endIcon","iconSize".concat((0,v.A)(i))]},d=(0,c.A)(s,g,l);return(0,a.A)({},l,d)})(V),O=E&&(0,y.jsx)(j,{className:L.startIcon,ownerState:V,children:E}),P=I&&(0,y.jsx)(C,{className:L.endIcon,ownerState:V,children:I}),D=s||"";return(0,y.jsxs)(A,(0,a.A)({ownerState:V,className:(0,r.A)(o.className,L.root,b,D),component:x,disabled:z,focusRipple:!k,focusVisibleClassName:(0,r.A)(L.focusVisible,R),ref:t,type:M},T,{classes:L,children:[O,p,P]}))})},23235:function(e,t,o){o.d(t,{A:function(){return f}});var n=o(58168),a=o(9950),i=o(98587),r=o(72004),l=o(88465),c=o(61676),s=o(4236),d=o(59254),u=o(1763),h=o(423);function p(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,u.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var v=o(44414);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],x=(0,d.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,"inherit"!==o.color&&t["color".concat((0,c.A)(o.color))],t["fontSize".concat((0,c.A)(o.fontSize))]]}})(e=>{let{theme:t,ownerState:o}=e;var n,a,i,r,l,c,s,d,u,h,p,v,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:o.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=t.transitions)||null==(a=n.create)?void 0:a.call(n,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(r=t.typography)||null==(l=r.pxToRem)?void 0:l.call(r,20))||"1.25rem",medium:(null==(c=t.typography)||null==(s=c.pxToRem)?void 0:s.call(c,24))||"1.5rem",large:(null==(d=t.typography)||null==(u=d.pxToRem)?void 0:u.call(d,35))||"2.1875rem"}[o.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[o.color])?void 0:p.main)?h:{action:null==(v=(t.vars||t).palette)||null==(v=v.action)?void 0:v.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[o.color]}}),g=a.forwardRef(function(e,t){const o=(0,s.b)({props:e,name:"MuiSvgIcon"}),{children:d,className:u,color:h="inherit",component:g="svg",fontSize:b="medium",htmlColor:f,inheritViewBox:S=!1,titleAccess:y,viewBox:w="0 0 24 24"}=o,z=(0,i.A)(o,m),A=a.isValidElement(d)&&"svg"===d.type,j=(0,n.A)({},o,{color:h,component:g,fontSize:b,instanceFontSize:e.fontSize,inheritViewBox:S,viewBox:w,hasSvgAsChild:A}),C={};S||(C.viewBox=w);const N=(e=>{const{color:t,fontSize:o,classes:n}=e,a={root:["root","inherit"!==t&&"color".concat((0,c.A)(t)),"fontSize".concat((0,c.A)(o))]};return(0,l.A)(a,p,n)})(j);return(0,v.jsxs)(x,(0,n.A)({as:g,className:(0,r.A)(N.root,u),focusable:"false",color:f,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},C,z,A&&d.props,{ownerState:j,children:[A?d.props.children:d,y?(0,v.jsx)("title",{children:y}):null]}))});g.muiName="SvgIcon";var b=g;function f(e,t){function o(o,a){return(0,v.jsx)(b,(0,n.A)({"data-testid":"".concat(t,"Icon"),ref:a},o,{children:e}))}return o.muiName=b.muiName,a.memo(a.forwardRef(o))}},36633:function(e,t,o){o.r(t);var n=o(9950),a=o(28429),i=o(42074),r=o(26910),l=o(10226),c=o(4753),s=o(11031),d=o(44414);t.default=()=>{const e=(0,s.g)(),t=(0,a.Zp)(),[o,u]=(0,n.useState)(!0),[h,p]=(0,n.useState)(10),[v,m]=(0,n.useState)(1),[x,g]=(0,n.useState)([]),b=()=>{r.A.get("/api/v1/coupon/getall",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{u(!1),g(e.data.message)}).catch(e=>{var t,o;u(!1);const n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)||"Something went wrong!";console.log(n)})};(0,n.useEffect)(()=>{b()},[]);return(0,d.jsx)("div",{className:"main-content",children:(0,d.jsx)("div",{className:"my-3 page-content",children:(0,d.jsxs)("div",{className:"container-fluid",children:[(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-12",children:(0,d.jsxs)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:[(0,d.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"Coupons"}),(0,d.jsx)("div",{className:"page-title-right",children:(0,d.jsx)(l.A,{onClick:()=>{t("/affiliate/coupons/create")},variant:"contained",color:"primary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},children:"Add New Coupon"})})]})})}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-lg-12",children:(0,d.jsx)("div",{className:"card",children:(0,d.jsx)("div",{className:"card-body",children:(0,d.jsx)("div",{className:"row ml-0 mr-0 mb-10",children:(0,d.jsx)("div",{className:"col-sm-12 col-md-12",children:(0,d.jsx)("div",{className:"dataTables_length",children:(0,d.jsxs)("label",{className:"w-100",children:["Show",(0,d.jsxs)("select",{style:{width:"10%"},onChange:e=>p(e.target.value),className:" select-w custom-select custom-select-sm form-control form-control-sm ",children:[(0,d.jsx)("option",{value:"10",children:"10"}),(0,d.jsx)("option",{value:"25",children:"25"}),(0,d.jsx)("option",{value:"50",children:"50"}),(0,d.jsx)("option",{value:"100",children:"100"})]}),"entries"]})})})})})})})}),(0,d.jsx)("div",{className:"table-responsive table-shoot mt-3",children:(0,d.jsxs)("table",{className:"table table-centered table-nowrap",style:{border:"1px solid"},children:[(0,d.jsx)("thead",{className:"thead-info",style:{background:"rgb(140, 213, 213)"},children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:" Coupon Code"}),(0,d.jsx)("th",{children:" Affiliate"}),(0,d.jsx)("th",{children:"Discount"}),(0,d.jsx)("th",{children:"Affilite Discount"}),(0,d.jsx)("th",{children:"Status"}),(0,d.jsx)("th",{children:"Action"})]})}),(0,d.jsxs)("tbody",{children:[" ",!o&&0===x.length&&(0,d.jsx)("tr",{className:"text-center",children:(0,d.jsx)("td",{children:(0,d.jsx)("h5",{children:"No Data Available"})})}),o?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{className:"text-center",children:"Loading..."})}):x&&x.slice(("".concat(v)-1)*h,"".concat(v)*h).map((t,o)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)("p",{style:{fontWeight:"bold"},children:t.coupon_code})}),(0,d.jsx)("td",{children:(0,d.jsx)("p",{children:t.name})}),(0,d.jsx)("td",{children:(0,d.jsxs)("p",{children:["\u20b9",t.discount_amount]})}),(0,d.jsx)("td",{children:(0,d.jsxs)("p",{children:["\u20b9",t.affiliate_discount_amount]})}),(0,d.jsx)("td",{children:t.is_coupon_active?(0,d.jsxs)("p",{style:{backgroundColor:"green",color:"white",display:"inline-block",padding:"2px",width:"65px",borderRadius:"8px",textAlign:"center"},children:[" ","active"]}):(0,d.jsxs)("p",{style:{backgroundColor:"red",color:"white",display:"inline-block",padding:"2px",width:"65px",textAlign:"center",borderRadius:"8px"},children:[" ","unactive"]})}),(0,d.jsxs)("td",{children:[(0,d.jsx)(i.N_,{to:"/affiliate/coupons/edit/".concat(t._id),children:(0,d.jsx)("button",{style:{color:"white",marginRight:"1rem"},type:"button",className:" btn btn-primary btn-sm waves-effect waves-light btn-table mx-1 mt-1 ",children:"Edit"})}),(0,d.jsx)("button",{style:{color:"white",marginRight:"1rem",background:"".concat(t.is_coupon_active?"red":"green")},onClick:()=>{return o=t._id,n=t.is_coupon_active,void r.A.patch("api/v1/coupon/suspend",{id:o,is_coupon_active:!n},{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{b()}).catch(e=>{var t,o;const n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)||"Something went wrong!";console.log(n)});var o,n},type:"button",className:" btn  btn-sm waves-effect waves-light btn-table mx-1 mt-1 ",children:t.is_coupon_active?"Suspend":"Activate"}),(0,d.jsx)(i.N_,{to:"/affiliate/coupons/history/".concat(t._id),children:(0,d.jsx)("button",{style:{color:"white",marginRight:"1rem",background:"grey"},type:"button",className:" btn  btn-sm waves-effect waves-light btn-table mx-1 mt-1 ",children:"History"})})]})]},o))]})]})}),(0,d.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:(0,d.jsx)(c.A,{style:{margin:"2rem"},variant:"outlined",size:"large",count:Math.max(1,Math.ceil((null===x||void 0===x?void 0:x.length)/h)),color:"primary",onChange:(e,t)=>m(t)})})]})})})}},63931:function(e,t,o){o.d(t,{A:function(){return a}});var n=o(9950);function a(e){let{controlled:t,default:o,name:a,state:i="value"}=e;const{current:r}=n.useRef(void 0!==t),[l,c]=n.useState(o);return[r?t:l,n.useCallback(e=>{r||c(e)},[])]}},95381:function(e,t,o){o.d(t,{I:function(){return i}});var n=o(9950);o(44414);const a=n.createContext();const i=()=>{const e=n.useContext(a);return null!=e&&e}}}]);