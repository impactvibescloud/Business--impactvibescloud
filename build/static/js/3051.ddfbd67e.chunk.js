"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3051],{53051:function(e,s,t){t.r(s),t.d(s,{default:function(){return d}});var a=t(9950),n=t(42074),l=t(44414);var c=e=>{let{userPerPage:s,totalUsers:t,paginate:a}=e;const c=[];for(let n=1;n<=Math.ceil(t/s);n++)c.push(n);return(0,l.jsx)("nav",{children:(0,l.jsx)("ul",{className:"ml-3 pagination ",children:c.map(e=>(0,l.jsx)("li",{className:"page-item",children:(0,l.jsx)(n.N_,{onClick:()=>a(e),to:"/users",className:"page-link",children:e})},e))})})},i=(t(6536),t(11031)),r=t(2720);var d=function(){const[e,s]=(0,a.useState)([]),[t,d]=(0,a.useState)(1),[o]=(0,a.useState)(10),h=(0,i.g)(),u=(0,a.useCallback)(async()=>{try{const e=await(0,r.H2)("/v1/admin/users","GET");s((null===e||void 0===e?void 0:e.users)||[])}catch(e){console.error("Failed to fetch users",e),s([])}},[h]);(0,a.useEffect)(()=>{u()},[u]);const m=t*o,x=m-o,j=e.slice(x,m);function v(e){var s=new Date(e).getHours(),t=new Date(e).getMinutes(),a=s>=12?"PM":"AM";return(s=(s%=12)||12)+":"+(t=t<10?"0"+t:t)+" "+a}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:" main-content",children:(0,l.jsx)("div",{className:"  my-3 page-content",children:(0,l.jsxs)("div",{className:"container-fluid",children:[(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-12",children:(0,l.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:(0,l.jsx)("h4",{className:"mb-3",children:" All Customers"})})})}),(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-lg-12",children:(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsx)("div",{className:"row ml-0 mr-0  mb-10"}),(0,l.jsx)("div",{className:"table-responsive table-shoot",children:(0,l.jsxs)("table",{className:"table table-centered table-nowrap mb-0",children:[(0,l.jsx)("thead",{className:"thead-light",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Customer Name"}),(0,l.jsx)("th",{children:"Unique Id "}),(0,l.jsx)("th",{children:"Date Registered"}),(0,l.jsx)("th",{children:"Last Purchase"}),(0,l.jsx)("th",{children:"Orders"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{children:j&&j.map((e,s)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:null===e||void 0===e?void 0:e.name}),(0,l.jsx)("td",{children:null===e||void 0===e?void 0:e._id}),(0,l.jsxs)("td",{children:[new Date("".concat(null===e||void 0===e?void 0:e.createdAt)).toDateString(),(0,l.jsxs)("span",{children:[" ",", ","".concat(v(null===e||void 0===e?void 0:e.createdAt))]})]}),(0,l.jsx)("td",{children:"last Purchase"}),(0,l.jsx)("td",{children:"order count "}),(0,l.jsx)("td",{children:(0,l.jsx)(n.N_,{to:"/users/view/".concat(e._id),children:(0,l.jsx)("button",{type:"button",className:"mt-1 btn btn-info btn-sm  waves-effect waves-light btn-table ml-2",children:"View"})})})]}))})]})})]})})})})]})})}),(0,l.jsx)(c,{userPerPage:o,totalUsers:e.length,paginate:e=>d(e)})]})}}}]);