"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8215],{8215:function(e,s,a){a.r(s),a.d(s,{default:function(){return h}});var t=a(9950),i=a(49911),l=a(81949),c=a(71293),r=a(10185),n=a(14495),o=a(27760),d=a(50323),m=a(44414);var h=function(){var e;const[s,a]=(0,t.useState)(""),[h,u]=(0,t.useState)(1),[x]=(0,t.useState)(10),[p,j]=(0,t.useState)(!1),[v,g]=(0,t.useState)(!1),[y,f]=(0,t.useState)(!1),[C,N]=(0,t.useState)(!1),[b,T]=(0,t.useState)(null),[S,A]=(0,t.useState)(null),[k,w]=(0,t.useState)(""),[M,_]=(0,t.useState)(""),[I,E]=(0,t.useState)(""),[F,H]=(0,t.useState)("All Templates"),[V,L]=(0,t.useState)({name:"",message:""}),[Z,z]=(0,t.useState)([{id:1,name:"Welcome Message",category:"Greeting",lastModified:"2025-06-20",status:"Active",message:"Hello {{name}}, welcome to our service! We are glad to have you onboard."},{id:2,name:"Follow-up Email",category:"Email",lastModified:"2025-06-18",status:"Active",message:"Hi {{name}}, just following up on our recent conversation about {{topic}}."},{id:3,name:"Support Ticket Response",category:"Support",lastModified:"2025-06-15",status:"Inactive",message:"Thank you for contacting support. Your ticket #{{ticketId}} has been received."},{id:4,name:"Appointment Reminder",category:"Notification",lastModified:"2025-06-12",status:"Active",message:"This is a reminder about your upcoming appointment on {{date}} at {{time}}."},{id:5,name:"Survey Request",category:"Feedback",lastModified:"2025-06-10",status:"Active",message:"We value your feedback! Please take a moment to complete our short survey."}]),Q=Z.filter(e=>{const a=e.name.toLowerCase().includes(s.toLowerCase())||e.category.toLowerCase().includes(s.toLowerCase());let t=!0;return"Active"===F?t="Active"===e.status:"Inactive"===F&&(t="Inactive"===e.status),a&&t}),D=h*x,O=D-x,P=Q.slice(O,D),R=Math.ceil(Q.length/x),$=()=>{j(!1),T(null),L({name:"",message:""}),w("")},q=e=>{const{name:s,value:a}=e.target;L(e=>({...e,[s]:a}))},G=()=>{A(null),g(!1),E("")},U=e=>{H(e),u(1)};return(0,m.jsxs)("div",{className:"contact-list-container",children:[(0,m.jsx)(i.E$,{className:"mb-4",children:(0,m.jsxs)(i.W6,{children:[(0,m.jsxs)(i.sK,{className:"mb-4 align-items-center",children:[(0,m.jsx)(i.UF,{md:6,children:(0,m.jsx)("h1",{className:"contact-list-title",children:"Message Templates"})}),(0,m.jsx)(i.UF,{md:6,className:"d-flex justify-content-end",children:(0,m.jsxs)(i.Q_,{color:"primary",className:"add-contact-btn",onClick:()=>{T(null),L({name:"",message:""}),w(""),_(""),j(!0)},children:[(0,m.jsx)(l.Ay,{icon:c.x,className:"me-2"}),"New Template"]})})]}),(0,m.jsxs)(i.sK,{className:"mb-4",children:[(0,m.jsx)(i.UF,{md:4,children:(0,m.jsxs)(i.BG,{children:[(0,m.jsx)(i.OG,{placeholder:"Search templates...",value:s,onChange:e=>{a(e.target.value),u(1)}}),(0,m.jsx)(i.Q_,{type:"button",color:"primary",variant:"outline",children:(0,m.jsx)(l.Ay,{icon:r.B})})]})}),(0,m.jsx)(i.UF,{md:4,children:(0,m.jsxs)(i.ji,{children:[(0,m.jsxs)(i.VH,{color:"primary",variant:"outline",children:[(0,m.jsx)(l.Ay,{icon:n.R,className:"me-2"}),F]}),(0,m.jsxs)(i.QR,{children:[(0,m.jsx)(i.kd,{onClick:()=>U("All Templates"),active:"All Templates"===F,children:"All Templates"}),(0,m.jsx)(i.kd,{onClick:()=>U("Active"),active:"Active"===F,children:"Active"}),(0,m.jsx)(i.kd,{onClick:()=>U("Inactive"),active:"Inactive"===F,children:"Inactive"})]})]})})]}),(0,m.jsxs)(i._v,{hover:!0,responsive:!0,className:"contact-table",children:[(0,m.jsx)(i.wV,{children:(0,m.jsxs)(i.YI,{children:[(0,m.jsx)(i.$s,{children:"S.NO"}),(0,m.jsx)(i.$s,{children:"TEMPLATE NAME"}),(0,m.jsx)(i.$s,{children:"CATEGORY"}),(0,m.jsx)(i.$s,{children:"LAST MODIFIED"}),(0,m.jsx)(i.$s,{children:"STATUS"}),(0,m.jsx)(i.$s,{children:"ACTIONS"})]})}),(0,m.jsx)(i.jS,{children:0===P.length?(0,m.jsx)(i.YI,{children:(0,m.jsx)(i.cC,{colSpan:"6",className:"text-center py-5",children:(0,m.jsxs)("div",{className:"empty-state",children:[(0,m.jsx)("div",{className:"empty-state-icon",children:(0,m.jsx)(l.Ay,{icon:c.x,size:"xl"})}),(0,m.jsx)("h4",{children:"No templates found"}),(0,m.jsx)("p",{children:"No message templates match your current search or filter criteria."})]})})}):P.map((e,s)=>(0,m.jsxs)(i.YI,{children:[(0,m.jsx)(i.cC,{children:(0,m.jsx)("div",{className:"contact-number",children:O+s+1})}),(0,m.jsx)(i.cC,{children:(0,m.jsx)("div",{className:"contact-name",children:e.name})}),(0,m.jsx)(i.cC,{children:(0,m.jsx)("div",{className:"contact-phone",children:e.category})}),(0,m.jsx)(i.cC,{children:(0,m.jsx)("div",{className:"contact-phone",children:e.lastModified})}),(0,m.jsx)(i.cC,{children:(0,m.jsx)("span",{className:"status-badge ".concat(e.status.toLowerCase()),children:e.status})}),(0,m.jsx)(i.cC,{children:(0,m.jsxs)("div",{className:"template-actions",children:[(0,m.jsx)(i.Q_,{color:"primary",variant:"ghost",size:"sm",onClick:()=>(e=>{T(e),L({name:e.name,message:e.message}),w(""),_(""),j(!0)})(e),title:"Edit Template",className:"me-2",children:(0,m.jsx)(l.Ay,{icon:o.K})}),(0,m.jsx)(i.Q_,{color:"danger",variant:"ghost",size:"sm",onClick:()=>{return s=e.id,A(s),void g(!0);var s},title:"Delete Template",children:(0,m.jsx)(l.Ay,{icon:d.Z})})]})})]},e.id))})]}),R>1&&(0,m.jsxs)(i._l,{"aria-label":"Page navigation example",className:"justify-content-center mt-4",children:[(0,m.jsx)(i.Xp,{disabled:1===h,onClick:()=>u(h-1),children:"Previous"}),[...Array(R)].map((e,s)=>(0,m.jsx)(i.Xp,{active:s+1===h,onClick:()=>u(s+1),children:s+1},s)),(0,m.jsx)(i.Xp,{disabled:h===R,onClick:()=>u(h+1),children:"Next"})]})]})}),(0,m.jsxs)(i.zS,{visible:p,onClose:$,size:"lg",backdrop:"static",children:[(0,m.jsx)(i.E4,{children:(0,m.jsx)(i.lb,{children:b?"Edit template":"New template"})}),(0,m.jsxs)(i.Tc,{children:[k&&(0,m.jsx)(i.kj,{color:"danger",className:"mb-3",children:k}),M&&(0,m.jsx)(i.kj,{color:"success",className:"mb-3",children:M}),(0,m.jsxs)(i.qI,{children:[(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)(i.A6,{htmlFor:"templateName",className:"required-field",children:"Template name"}),(0,m.jsx)(i.OG,{id:"templateName",name:"name",value:V.name,onChange:q,placeholder:"Enter template name"})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)(i.A6,{htmlFor:"message",className:"required-field",children:"Message"}),(0,m.jsx)(i.Im,{id:"message",name:"message",value:V.message,onChange:q,rows:6,placeholder:"Enter message or type '@' to insert variables"}),(0,m.jsx)("div",{className:"insert-variable-container",children:(0,m.jsx)(i.Q_,{color:"link",size:"sm",className:"insert-variable-btn",children:"Insert Variable"})})]})]})]}),(0,m.jsxs)(i.If,{children:[(0,m.jsx)(i.Q_,{color:"secondary",onClick:$,disabled:y,children:"Cancel"}),(0,m.jsx)(i.Q_,{color:"primary",onClick:async()=>{if(V.name.trim())if(V.message.trim()){f(!0),w("");try{if(await new Promise(e=>setTimeout(e,1e3)),b)z(e=>e.map(e=>e.id===b.id?{...e,name:V.name,message:V.message,lastModified:(new Date).toISOString().split("T")[0]}:e)),_("Template updated successfully!");else{const e={id:Date.now(),name:V.name,message:V.message,category:"General",lastModified:(new Date).toISOString().split("T")[0],status:"Active"};z(s=>[...s,e]),_("Template created successfully!")}setTimeout(()=>{$()},1500)}catch(e){console.error("Error saving template:",e),w("Failed to save template. Please try again.")}finally{f(!1)}}else w("Template message is required");else w("Template name is required")},disabled:y,children:y?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.JT,{size:"sm",className:"me-1"}),b?"Saving...":"Creating..."]}):b?"Save Changes":"Create"})]})]}),(0,m.jsxs)(i.zS,{visible:v,onClose:G,size:"sm",backdrop:"static",children:[(0,m.jsx)(i.E4,{children:(0,m.jsx)(i.lb,{children:"Delete Template"})}),(0,m.jsxs)(i.Tc,{children:[I&&(0,m.jsx)(i.kj,{color:"success",children:I}),!I&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{children:"Are you sure you want to delete this template?"}),(0,m.jsx)("p",{className:"text-danger fw-bold",children:"This action cannot be undone."}),S&&(0,m.jsxs)("p",{className:"mt-3 mb-0 fw-bold",children:["Template: ",null===(e=Z.find(e=>e.id===S))||void 0===e?void 0:e.name]})]})]}),(0,m.jsx)(i.If,{children:!I&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.Q_,{color:"secondary",onClick:G,disabled:C,children:"Cancel"}),(0,m.jsx)(i.Q_,{color:"danger",onClick:async()=>{if(S){N(!0),E("");try{await new Promise(e=>setTimeout(e,1e3));const e=Z.find(e=>e.id===S),s=e?e.name:"Template";z(e=>e.filter(e=>e.id!==S)),E('"'.concat(s,'" has been deleted successfully!')),setTimeout(()=>{g(!1),A(null),E("")},2e3)}catch(e){console.error("Error deleting template:",e),w("Failed to delete template. Please try again.")}finally{N(!1)}}},disabled:C,children:C?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.JT,{size:"sm",className:"me-1"}),"Deleting..."]}):"Delete"})]})})]})]})}},10185:function(e,s,a){a.d(s,{B:function(){return t}});const t=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M479.6,399.716l-81.084-81.084-62.368-25.767A175.014,175.014,0,0,0,368,192c0-97.047-78.953-176-176-176S16,94.953,16,192,94.953,368,192,368a175.034,175.034,0,0,0,101.619-32.377l25.7,62.2L400.4,478.911a56,56,0,1,0,79.2-79.195ZM48,192c0-79.4,64.6-144,144-144s144,64.6,144,144S271.4,336,192,336,48,271.4,48,192ZM456.971,456.284a24.028,24.028,0,0,1-33.942,0l-76.572-76.572-23.894-57.835L380.4,345.771l76.573,76.572A24.028,24.028,0,0,1,456.971,456.284Z' class='ci-primary'/>"]},14495:function(e,s,a){a.d(s,{R:function(){return t}});const t=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M238.627,496H192V253.828l-168-200V16H480V53.612l-160,200V414.627ZM224,464h1.373L288,401.373V242.388L443.51,48H60.9L224,242.172Z' class='ci-primary'/>"]},50323:function(e,s,a){a.d(s,{Z:function(){return t}});const t=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M96,472a23.82,23.82,0,0,0,23.579,24H392.421A23.82,23.82,0,0,0,416,472V152H96Zm32-288H384V464H128Z' class='ci-primary'/><rect width='32' height='200' x='168' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='240' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='312' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M328,88V40c0-13.458-9.488-24-21.6-24H205.6C193.488,16,184,26.542,184,40V88H64v32H448V88ZM216,48h80V88H216Z' class='ci-primary'/>"]},71293:function(e,s,a){a.d(s,{x:function(){return t}});const t=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='440 240 272 240 272 72 240 72 240 240 72 240 72 272 240 272 240 440 272 440 272 272 440 272 440 240' class='ci-primary'/>"]}}]);