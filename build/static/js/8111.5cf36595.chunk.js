(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8111],{25333:function(e,t,a){"use strict";a.d(t,{A:function(){return j}});var n=a(98587),i=a(58168),r=a(9950),l=a(72004),s=a(88465),o=a(9240),c=a(59254),d=a(4236),u=a(59271),p=a(61676),m=a(1763),h=a(423);function x(e){return(0,h.Ay)("MuiIconButton",e)}var f=(0,m.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),b=a(44414);const v=["edge","children","className","color","disabled","disableFocusRipple","size"],g=(0,c.Ay)(u.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,"default"!==a.color&&t["color".concat((0,p.A)(a.color))],a.edge&&t["edge".concat((0,p.A)(a.edge))],t["size".concat((0,p.A)(a.size))]]}})(e=>{let{theme:t,ownerState:a}=e;return(0,i.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!a.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,o.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===a.edge&&{marginLeft:"small"===a.size?-3:-12},"end"===a.edge&&{marginRight:"small"===a.size?-3:-12})},e=>{let{theme:t,ownerState:a}=e;var n;const r=null==(n=(t.vars||t).palette)?void 0:n[a.color];return(0,i.A)({},"inherit"===a.color&&{color:"inherit"},"inherit"!==a.color&&"default"!==a.color&&(0,i.A)({color:null==r?void 0:r.main},!a.disableRipple&&{"&:hover":(0,i.A)({},r&&{backgroundColor:t.vars?"rgba(".concat(r.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,o.X4)(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===a.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===a.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(f.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})});var j=r.forwardRef(function(e,t){const a=(0,d.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:c,color:u="default",disabled:m=!1,disableFocusRipple:h=!1,size:f="medium"}=a,j=(0,n.A)(a,v),y=(0,i.A)({},a,{edge:r,color:u,disabled:m,disableFocusRipple:h,size:f}),N=(e=>{const{classes:t,disabled:a,color:n,edge:i,size:r}=e,l={root:["root",a&&"disabled","default"!==n&&"color".concat((0,p.A)(n)),i&&"edge".concat((0,p.A)(i)),"size".concat((0,p.A)(r))]};return(0,s.A)(l,x,t)})(y);return(0,b.jsx)(g,(0,i.A)({className:(0,l.A)(N.root,c),centerRipple:!0,focusRipple:!h,disabled:m,ref:t},j,{ownerState:y,children:o}))})},34378:function(e,t,a){var n=a(14759);e.exports=function(){return n.Date.now()}},50184:function(e,t,a){var n=a(22022),i=a(39248);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},68111:function(e,t,a){"use strict";a.r(t);var n=a(9950),i=a(26910),r=a(42074),l=a(11031),s=a(10226),o=a(78317),c=a(82053),d=a(25333),u=a(29925),p=a(66633),m=a(96319),h=a(46867),x=a(6536),f=a.n(x),b=a(28429),v=a(95491),g=a.n(v),j=a(44414);const y={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",borderRadius:"0.5rem",boxShadow:24};t.default=()=>{const e=(0,l.g)(),[t,a]=((0,b.Zp)(),(0,n.useState)(!0)),[x,v]=(0,n.useState)(!0),[N,w]=(0,n.useState)(!0),[A,S]=(0,n.useState)(!1),[C,k]=(0,n.useState)(""),[_,z]=(0,n.useState)(null),[R,F]=(0,n.useState)(10),[T,M]=(0,n.useState)(1),[P,E]=(0,n.useState)(!1),[D,I]=(0,n.useState)(null),[B,L]=(0,n.useState)([]),[O,W]=(0,n.useState)(""),[$,U]=(0,n.useState)(0),[X,Y]=(0,n.useState)(!0),q=(0,n.useRef)(),V=()=>{E(!1),S(!1),k(""),z(null),W("")},Z=async()=>{try{var t;a(!0);const n=await i.A.get("/api/productmanual",{headers:{Authorization:"Bearer ".concat(e)},params:{page:T,show:R,title:(null===(t=q.current)||void 0===t?void 0:t.value)||""}});if(200===n.status){const{productManuals:e,total:t}=n.data;L(e),U(t),a(!1)}}catch(n){console.error("Failed to fetch product manuals:",n),a(!1)}};(0,n.useEffect)(()=>{Z()},[R,T,X]);const G=(0,n.useCallback)(g()(()=>{M(1),Z()},500),[]);return(0,j.jsx)("div",{className:"main-content",children:(0,j.jsx)("div",{className:"page-content",children:(0,j.jsxs)("div",{className:"container-fluid",children:[(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col-12",children:(0,j.jsxs)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:[(0,j.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"Product Manual"}),(0,j.jsx)("div",{className:"page-title-right",children:(0,j.jsx)(s.A,{variant:"contained",color:"primary",className:"font-bold mb-2 capitalize mr-2",onClick:()=>E(!0),children:"Add New Product Manual"})})]})})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col-lg-12",children:(0,j.jsx)("div",{className:"card",children:(0,j.jsxs)("div",{className:"card-body",children:[(0,j.jsxs)("div",{className:"row ml-0 mr-0 mb-10",children:[(0,j.jsx)("div",{className:"col-lg-1",children:(0,j.jsx)("div",{className:"dataTables_length",children:(0,j.jsxs)("label",{className:"w-100",children:["Show",(0,j.jsxs)("select",{onChange:e=>{F(e.target.value),M(1)},className:"form-control",disabled:t,children:[(0,j.jsx)("option",{value:"10",children:"10"}),(0,j.jsx)("option",{value:"25",children:"25"}),(0,j.jsx)("option",{value:"50",children:"50"}),(0,j.jsx)("option",{value:"100",children:"100"})]}),"entries"]})})}),(0,j.jsxs)("div",{className:"col-lg-3",children:[(0,j.jsx)("label",{children:"Title:"}),(0,j.jsx)("input",{type:"text",placeholder:"product name",className:"form-control",ref:q,onChange:e=>{G()},disabled:t})]})]}),(0,j.jsx)(p.A,{open:P,onClose:V,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(o.A,{sx:y,children:[(0,j.jsxs)(o.A,{p:2,display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,j.jsx)(c.A,{id:"modal-modal-title",variant:"h6",component:"h2",flex:1,fontWeight:"bold",textAlign:"center",children:A?"Edit Product Manual":"Add New Product Manual"}),(0,j.jsx)(d.A,{onClick:V,color:"error",children:(0,j.jsx)(m.A,{})})]}),(0,j.jsxs)(o.A,{p:2,children:[(0,j.jsx)(u.A,{required:!0,id:"title",label:"Title",variant:"outlined",margin:"normal",fullWidth:!0,value:C,onChange:e=>k(e.target.value)}),(0,j.jsx)("input",{accept:"application/pdf",style:{display:"none"},id:"pdfFile",type:"file",onChange:e=>z(e.target.files[0])}),(0,j.jsxs)("label",{htmlFor:"pdfFile",children:[(0,j.jsx)(s.A,{variant:"contained",component:"span",className:"font-bold mb-2 capitalize",color:"primary",children:"Upload PDF"}),_&&(0,j.jsx)("span",{style:{marginLeft:"10px"},children:_.name}),O&&(0,j.jsx)(c.A,{color:"error",variant:"body2",children:O})]})]}),(0,j.jsxs)(o.A,{p:2,display:"flex",justifyContent:"right",children:[!A&&(0,j.jsxs)("button",{style:{color:"white",marginRight:"1rem"},onClick:()=>(async()=>{if(!C||!_||!(t=_)||"application/pdf"!==t.type)return void W("Please upload a valid PDF file!");var t;W(""),w(!1);const a=new FormData;a.append("title",C),a.append("pdfFile",_);try{await i.A.post("/api/productmanual/create",a,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}}),V(),f()("Success","New product manual added successfully!","success"),Z()}catch(n){f()("Error","Failed to add product manual","error")}finally{w(!0)}})(),type:"button",className:" btn btn-primary btn-sm waves-effect waves-light btn-table mx-1 mt-1 ",children:[(0,j.jsx)(h.ClipLoader,{loading:!N,size:18}),N&&"Save"]}),A&&(0,j.jsxs)("button",{style:{color:"white",marginRight:"1rem"},onClick:()=>(async()=>{if(!C)return void W("Please upload a valid PDF file!");W(""),v(!1);const t=new FormData;t.append("title",C),t.append("pdfFile",_);try{await i.A.put("/api/productmanual/update/".concat(D._id),t,{headers:{Authorization:"Bearer ".concat(e)}}),V(),Y(e=>!e),f()("Success","The product manual was updated successfully!","success"),Z()}catch(a){f()("Error","Failed to update product manual","error")}finally{v(!0)}})(),type:"button",className:" btn btn-primary btn-sm waves-effect waves-light btn-table mx-1 mt-1 ",children:[(0,j.jsx)(h.ClipLoader,{loading:!x,size:18}),x&&"update"]}),(0,j.jsx)("button",{style:{color:"black",marginRight:"1rem",background:"grey"},onClick:()=>E(!1),type:"button",className:" btn  btn-sm waves-effect waves-light btn-table mx-1 mt-1 ",children:"Close"})]})]})}),(0,j.jsx)("div",{className:"table-responsive table-shoot mt-3",children:(0,j.jsxs)("table",{className:"table table-centered table-nowrap",style:{border:"1px solid"},children:[(0,j.jsx)("thead",{className:"thead-light",style:{background:"#ecdddd"},children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"text-start",children:"Title"}),(0,j.jsx)("th",{className:"text-start",children:"File Name"}),(0,j.jsx)("th",{className:"text-start",children:"Updated Date"}),(0,j.jsx)("th",{className:"text-start",children:"Actions"})]})}),(0,j.jsx)("tbody",{children:t?(0,j.jsx)("tr",{children:(0,j.jsx)("td",{className:"text-center",colSpan:"6",children:"Loading..."})}):(null===B||void 0===B?void 0:B.length)>0?null===B||void 0===B?void 0:B.map((t,a)=>(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"text-start",children:t.title}),(0,j.jsx)("td",{className:"text-start",children:t.product_manual.filename}),(0,j.jsx)("td",{className:"text-start",children:new Date(t.updatedAt).toLocaleString("en-IN",{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}),(0,j.jsxs)("td",{className:"text-start",children:[(0,j.jsx)(r.N_,{to:"/product-manual/view/".concat(t._id),children:(0,j.jsx)("button",{style:{color:"white",marginRight:"1rem"},type:"button",className:" btn btn-primary btn-sm waves-effect waves-light btn-table mx-1 mt-1 ",children:"View"})}),(0,j.jsx)("button",{style:{color:"white",marginRight:"1rem"},type:"button",className:" btn btn-info btn-sm waves-effect waves-light btn-table mt-1 mx-1 ",onClick:()=>(e=>{E(!0),I(e),k(e.title),z(null),S(!0)})(t),children:"Edit"}),(0,j.jsx)(r.N_,{to:"#",style:{marginRight:"1rem"},children:(0,j.jsx)("button",{style:{color:"white"},type:"button",className:" btn btn-danger btn-sm waves-effect waves-light btn-table mt-1 mx-1 ",onClick:()=>{(async t=>{f()({title:"Are you sure?",icon:"warning",buttons:{Yes:{text:"Yes",value:!0},Cancel:{text:"Cancel",value:"cancel"}}}).then(async a=>{if(!0===a)try{await i.A.delete("/api/productmanual/delete/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}),Y(e=>!e),f()("Success","The product manual was deleted successfully!","success"),Z()}catch(n){f()("Error","Failed to delete product manual","error")}})})(t._id)},children:"Delete"})})]})]},a)):!t&&0===(null===B||void 0===B?void 0:B.length)&&(0,j.jsx)("tr",{className:"text-center",children:(0,j.jsx)("td",{colSpan:"6",children:(0,j.jsx)("h5",{children:"No Product manual Available..."})})})})]})}),(0,j.jsxs)("div",{className:"row mt-20",children:[(0,j.jsx)("div",{className:"col-sm-12 col-md-6 mb-20",children:(0,j.jsxs)("div",{className:"dataTables_info",id:"datatable_info",role:"status","aria-live":"polite",children:["Showing ",T*R-R+1," to"," ",Math.min(T*R,$)," of"," ",$," entries"]})}),(0,j.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,j.jsx)("div",{className:"d-flex",children:(0,j.jsxs)("ul",{className:"pagination ms-auto",children:[(0,j.jsx)("li",{className:1===T?"paginate_button page-item previous disabled":"paginate_button page-item previous",children:(0,j.jsx)("span",{className:"page-link",style:{cursor:"pointer"},onClick:()=>M(e=>e-1),disabled:t,children:"Previous"})}),!(T-1<1)&&(0,j.jsx)("li",{className:"paginate_button page-item",children:(0,j.jsx)("span",{className:"page-link",style:{cursor:"pointer"},onClick:e=>M(e=>e-1),disabled:t,children:T-1})}),(0,j.jsx)("li",{className:"paginate_button page-item active",children:(0,j.jsx)("span",{className:"page-link",style:{cursor:"pointer"},children:T})}),!((T+1)*R-R>$-1)&&(0,j.jsx)("li",{className:"paginate_button page-item ",children:(0,j.jsx)("span",{className:"page-link",style:{cursor:"pointer"},onClick:()=>{M(e=>e+1)},disabled:t,children:T+1})}),(0,j.jsx)("li",{className:(T+1)*R-R>$-1?"paginate_button page-item next disabled":"paginate_button page-item next",children:(0,j.jsx)("span",{className:"page-link",style:{cursor:"pointer"},onClick:()=>M(e=>e+1),disabled:t,children:"Next"})})]})})})]})]})})})})]})})})}},72588:function(e,t,a){var n=a(86914),i=a(24567),r=a(50184),l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var a=s.test(e);return a||o.test(e)?c(e.slice(2),a?2:8):l.test(e)?NaN:+e}},86914:function(e,t,a){var n=a(88798),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},88798:function(e){var t=/\s/;e.exports=function(e){for(var a=e.length;a--&&t.test(e.charAt(a)););return a}},95491:function(e,t,a){var n=a(24567),i=a(34378),r=a(72588),l=Math.max,s=Math.min;e.exports=function(e,t,a){var o,c,d,u,p,m,h=0,x=!1,f=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var a=o,n=c;return o=c=void 0,h=t,u=e.apply(n,a)}function g(e){var a=e-m;return void 0===m||a>=t||a<0||f&&e-h>=d}function j(){var e=i();if(g(e))return y(e);p=setTimeout(j,function(e){var a=t-(e-m);return f?s(a,d-(e-h)):a}(e))}function y(e){return p=void 0,b&&o?v(e):(o=c=void 0,u)}function N(){var e=i(),a=g(e);if(o=arguments,c=this,m=e,a){if(void 0===p)return function(e){return h=e,p=setTimeout(j,t),x?v(e):u}(m);if(f)return clearTimeout(p),p=setTimeout(j,t),v(m)}return void 0===p&&(p=setTimeout(j,t)),u}return t=r(t)||0,n(a)&&(x=!!a.leading,d=(f="maxWait"in a)?l(r(a.maxWait)||0,t):d,b="trailing"in a?!!a.trailing:b),N.cancel=function(){void 0!==p&&clearTimeout(p),h=0,o=m=c=p=void 0},N.flush=function(){return void 0===p?u:y(i())},N}},96319:function(e,t,a){"use strict";var n=a(24994);t.A=void 0;var i=n(a(79526)),r=a(44414);t.A=(0,i.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")}}]);