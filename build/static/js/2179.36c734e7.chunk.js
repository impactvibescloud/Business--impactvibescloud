"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2179],{52179:function(e,r,a){a.r(r);var t=a(9950),n=a(78317),s=a(82053),i=a(25979),l=a(3788),d=a(27138),c=a(11088),o=a(29925),h=a(1320),u=a(2235),A=a(15769),x=a(69780),j=a(9213),g=a(21671),v=a(34075),p=a(14712),m=a(10226),f=a(9567),w=a(28429),S=a(26910),_=a(11031),I=a(44414);const b=e=>{var r=new Date(e).getHours(),a=new Date(e).getMinutes(),t=r>=12?"PM":"AM";return(r=(r%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+t};r.default=()=>{const[e,r]=(0,t.useState)([]),[a,y]=(0,t.useState)(!0),[C,D]=(0,t.useState)(0),[O,P]=(0,t.useState)(5),[k,L]=(0,t.useState)(0),[B,M]=(0,t.useState)("Order ID"),[q,E]=(0,t.useState)(""),F=(0,w.Zp)(),T=(0,_.g)();(0,t.useEffect)(()=>{(async(e,a)=>{y(!0);try{var t,n;const s=await S.A.get("/api/get-new-order-admin",{headers:{Authorization:"Bearer ".concat(T)},params:{page:e+1,limit:a,searchField:B,searchText:q}});r(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.placedOrders),L(null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.totalOrders)}catch(s){console.error("Error fetching orders:",s)}finally{y(!1)}})(C,O)},[C,O,B,q]);const V=null===e||void 0===e?void 0:e.filter(e=>"Order ID"===B?e.uniqueId.toLowerCase().includes(q.toLowerCase()):"Status"!==B||e.status.toLowerCase().includes(q.toLowerCase()));return(0,I.jsxs)(n.A,{children:[(0,I.jsx)(s.A,{variant:"h4",mb:2,textAlign:"center",children:"New Order Placed List"}),(0,I.jsxs)(n.A,{display:"flex",mb:2,alignItems:"center",children:[(0,I.jsxs)(i.A,{variant:"outlined",sx:{minWidth:150,mr:2},children:[(0,I.jsx)(l.A,{id:"search-field-label",children:"Search By"}),(0,I.jsxs)(d.A,{labelId:"search-field-label",id:"search-field",value:B,onChange:e=>{M(e.target.value)},label:"Search By",children:[(0,I.jsx)(c.A,{value:"Order ID",children:"Order ID"}),(0,I.jsx)(c.A,{value:"Status",children:"Status"})]})]}),(0,I.jsx)(o.A,{label:"Search by ".concat(B),variant:"outlined",value:q,onChange:e=>{E(e.target.value)},fullWidth:!0})]}),(0,I.jsxs)(h.A,{component:u.A,children:[(0,I.jsxs)(A.A,{children:[(0,I.jsx)(x.A,{children:(0,I.jsxs)(j.A,{children:[(0,I.jsx)(g.A,{children:"Order ID"}),(0,I.jsx)(g.A,{children:"Order Date"}),(0,I.jsx)(g.A,{children:"Items"}),(0,I.jsx)(g.A,{children:"Order Value"}),(0,I.jsx)(g.A,{children:"Status"}),(0,I.jsx)(g.A,{children:"Action"})]})}),(0,I.jsx)(v.A,{children:a?Array.from(new Array(O)).map((e,r)=>(0,I.jsx)(j.A,{children:(0,I.jsx)(g.A,{colSpan:6,children:(0,I.jsx)(p.A,{height:40})})},r)):V.length>0?V.map(e=>(0,I.jsxs)(j.A,{children:[(0,I.jsx)(g.A,{children:e.uniqueId}),(0,I.jsxs)(g.A,{children:[new Date(e.createdAt).toDateString(),(0,I.jsxs)("span",{children:[", ",b(e.createdAt)]})]}),(0,I.jsx)(g.A,{children:e.orderItem.length}),(0,I.jsxs)(g.A,{children:["\u20b9 ",e.grandTotal.toFixed(2)]}),(0,I.jsx)(g.A,{children:e.status}),(0,I.jsx)(g.A,{children:(0,I.jsx)(m.A,{variant:"contained",color:"primary",onClick:()=>F("/orders/".concat(e.status,"/").concat(e._id)),children:"View"})})]},e._id)):(0,I.jsx)(j.A,{children:(0,I.jsx)(g.A,{colSpan:6,align:"center",children:(0,I.jsx)(s.A,{variant:"body1",children:"Data not found"})})})})]}),(0,I.jsx)(f.A,{rowsPerPageOptions:[5,10,25],component:"div",count:k,rowsPerPage:O,page:C,onPageChange:(e,r)=>{D(r)},onRowsPerPageChange:e=>{P(parseInt(e.target.value,10)),D(0)}})]})]})}}}]);