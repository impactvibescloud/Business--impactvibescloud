"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[525],{10226:function(e,t,a){a.d(t,{A:function(){return C}});var o=a(98587),n=a(58168),i=a(9950),l=a(72004),r=a(45537),s=a(88465),c=a(9240),d=a(59254),u=a(19608),h=a(4236),p=a(59271),v=a(61676),m=a(1763),x=a(423);function g(e){return(0,x.Ay)("MuiButton",e)}var b=(0,m.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var y=i.createContext({});var w=i.createContext(void 0),j=a(44414);const N=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],f=e=>(0,n.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),S=(0,d.Ay)(p.A,{shouldForwardProp:e=>(0,u.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["".concat(a.variant).concat((0,v.A)(a.color))],t["size".concat((0,v.A)(a.size))],t["".concat(a.variant,"Size").concat((0,v.A)(a.size))],"inherit"===a.color&&t.colorInherit,a.disableElevation&&t.disableElevation,a.fullWidth&&t.fullWidth]}})(e=>{let{theme:t,ownerState:a}=e;var o,i;const l="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,n.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,n.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((t.vars||t).palette[a.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(t.vars||t).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[a.color].main}}),"&:active":(0,n.A)({},"contained"===a.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(b.focusVisible)]:(0,n.A)({},"contained"===a.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(b.disabled)]:(0,n.A)({color:(t.vars||t).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===a.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(t.vars||t).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(t.vars||t).palette[a.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat((0,c.X4)(t.palette[a.color].main,.5))},"contained"===a.variant&&{color:t.vars?t.vars.palette.text.primary:null==(o=(i=t.palette).getContrastText)?void 0:o.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:l,boxShadow:(t.vars||t).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(t.vars||t).palette[a.color].contrastText,backgroundColor:(t.vars||t).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})},e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(b.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(b.disabled)]:{boxShadow:"none"}}}),A=(0,d.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.startIcon,t["iconSize".concat((0,v.A)(a.size))]]}})(e=>{let{ownerState:t}=e;return(0,n.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},f(t))}),z=(0,d.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.endIcon,t["iconSize".concat((0,v.A)(a.size))]]}})(e=>{let{ownerState:t}=e;return(0,n.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},f(t))});var C=i.forwardRef(function(e,t){const a=i.useContext(y),c=i.useContext(w),d=(0,r.A)(a,e),u=(0,h.b)({props:d,name:"MuiButton"}),{children:p,color:m="primary",component:x="button",className:b,disabled:f=!1,disableElevation:C=!1,disableFocusRipple:k=!1,endIcon:_,focusVisibleClassName:R,fullWidth:I=!1,size:B="medium",startIcon:E,type:W,variant:M="text"}=u,O=(0,o.A)(u,N),P=(0,n.A)({},u,{color:m,component:x,disabled:f,disableElevation:C,disableFocusRipple:k,fullWidth:I,size:B,type:W,variant:M}),L=(e=>{const{color:t,disableElevation:a,fullWidth:o,size:i,variant:l,classes:r}=e,c={root:["root",l,"".concat(l).concat((0,v.A)(t)),"size".concat((0,v.A)(i)),"".concat(l,"Size").concat((0,v.A)(i)),"color".concat((0,v.A)(t)),a&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,v.A)(i))],endIcon:["icon","endIcon","iconSize".concat((0,v.A)(i))]},d=(0,s.A)(c,g,r);return(0,n.A)({},r,d)})(P),T=E&&(0,j.jsx)(A,{className:L.startIcon,ownerState:P,children:E}),V=_&&(0,j.jsx)(z,{className:L.endIcon,ownerState:P,children:_}),F=c||"";return(0,j.jsxs)(S,(0,n.A)({ownerState:P,className:(0,l.A)(a.className,L.root,b,F),component:x,disabled:f,focusRipple:!k,focusVisibleClassName:(0,l.A)(L.focusVisible,R),ref:t,type:W},O,{classes:L,children:[T,p,V]}))})},40525:function(e,t,a){a.r(t);var o=a(9950),n=a(42074),i=a(26910),l=a(10226),r=a(28429),s=a(11031),c=a(6536),d=a.n(c),u=a(64267),h=a.n(u),p=a(35887),v=a(44414);t.default=()=>{const e=(0,s.g)(),t=(0,r.Zp)(),[a,c]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!0),[x,g]=(0,o.useState)([]),[b,y]=(0,o.useState)([]),[w,j]=(0,o.useState)([]),N=(0,o.useRef)(),f=(0,o.useRef)(),S=(0,o.useRef)(),[A,z]=(0,o.useState)(1),[C,k]=(0,o.useState)(10),[_,R]=(0,o.useState)(0),I=async()=>{c(!0);try{var t,a,o,n,l;const r=await i.A.get("/api/product/getAll/admin/",{headers:{Authorization:"Bearer ".concat(e)},params:{page:A,show:C,name:(null===(t=N.current)||void 0===t?void 0:t.value)||"",category:(null===(a=f.current)||void 0===a?void 0:a.value)||"",brand:(null===(o=S.current)||void 0===o?void 0:o.value)||""}});g((null===(n=r.data)||void 0===n?void 0:n.products)||[]),R((null===(l=r.data)||void 0===l?void 0:l.total_data)||0)}catch(u){var r,s;const e=(null===u||void 0===u||null===(r=u.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.msg)||"Something went wrong!";d()({title:"Error",text:e,icon:"error",button:"Retry",dangerMode:!0})}finally{c(!1)}},[B,E]=(0,o.useState)(null);(0,o.useEffect)(()=>{i.A.get("/api/category/getCategories",{headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(e)}}).then(e=>{var t;y(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.categories)}),(async()=>{try{const t=await i.A.get("/api/currency/getall",{});var e;200===t.status&&E(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.currency[0])}catch(t){console.log(t)}})(),i.A.get("/api/brand/getBrands",{headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(e)}}).then(e=>{var t;j(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.brands)})},[]),(0,o.useEffect)(()=>{I()},[u,C,A]);const W=(0,o.useCallback)(h()(()=>{z(1),I()},500),[]),M=()=>{W()};return(0,v.jsx)("div",{className:"main-content",children:(0,v.jsx)("div",{className:"page-content",children:(0,v.jsxs)("div",{className:"container-fluid",children:[(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:[(0,v.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"Products"}),(0,v.jsxs)("div",{className:"page-title-right",children:[(0,v.jsx)(l.A,{variant:"contained",color:"primary",className:"font-bold mb-2 capitalize mr-2",onClick:()=>t("/product/add",{replace:!0}),children:"Add Product"}),(0,v.jsx)(l.A,{variant:"contained",color:"primary",className:"font-bold mb-2 capitalize",onClick:()=>t("/product/add/multiple",{replace:!0}),children:"Upload Spreadsheet"})]})]})})}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-lg-12",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsxs)("div",{className:"row ml-0 mr-0 mb-10",children:[(0,v.jsx)("div",{className:"col-lg-1",children:(0,v.jsx)("div",{className:"dataTables_length",children:(0,v.jsxs)("label",{className:"w-100",children:["Show",(0,v.jsxs)("select",{onChange:e=>{k(e.target.value),z(1)},className:"form-control",disabled:a,children:[(0,v.jsx)("option",{value:"10",children:"10"}),(0,v.jsx)("option",{value:"25",children:"25"}),(0,v.jsx)("option",{value:"50",children:"50"}),(0,v.jsx)("option",{value:"100",children:"100"})]}),"entries"]})})}),(0,v.jsxs)("div",{className:"col-lg-3",children:[(0,v.jsx)("label",{children:"Product Name:"}),(0,v.jsx)("input",{type:"text",placeholder:"product name",className:"form-control",ref:N,onChange:M,disabled:a})]}),(0,v.jsxs)("div",{className:"col-lg-3",children:[(0,v.jsx)("label",{children:"Filter by Category:"}),(0,v.jsxs)("select",{className:"form-control",ref:f,onChange:M,disabled:a,children:[(0,v.jsx)("option",{value:"",children:"All"}),null===b||void 0===b?void 0:b.map((e,t)=>(0,v.jsx)("option",{value:e._id,children:null===e||void 0===e?void 0:e.categoryName},t))]})]}),(0,v.jsxs)("div",{className:"col-lg-3",children:[(0,v.jsx)("label",{children:"Filter by Brand:"}),(0,v.jsxs)("select",{className:"form-control",ref:S,onChange:M,disabled:a,children:[(0,v.jsx)("option",{value:"",children:"All"}),null===w||void 0===w?void 0:w.map((e,t)=>(0,v.jsx)("option",{value:e._id,children:null===e||void 0===e?void 0:e.brandName},t))]})]})]}),(0,v.jsx)("div",{className:"table-responsive table-shoot mt-3",children:(0,v.jsxs)("table",{className:"table table-centered table-nowrap",style:{border:"1px solid"},children:[(0,v.jsx)("thead",{className:"thead-light",style:{background:"#ecdddd"},children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"text-start",style:{width:"8%"},children:"Image"}),(0,v.jsx)("th",{className:"text-start",style:{width:"10%"},children:"SKU"}),(0,v.jsx)("th",{className:"text-start",style:{width:"20%"},children:"Product"}),(0,v.jsx)("th",{className:"text-start",style:{width:"15%"},children:"Category Name"}),(0,v.jsx)("th",{className:"text-start",style:{width:"15%"},children:"Brand Name"}),(0,v.jsx)("th",{className:"text-start",style:{width:"10%"},children:"Price"}),(0,v.jsx)("th",{className:"text-start",style:{width:"10%"},children:"Status"}),(0,v.jsx)("th",{className:"text-start",style:{width:"12%"},children:"Added On"}),(0,v.jsx)("th",{className:"text-start",style:{width:"12%"},children:"Actions"})]})}),(0,v.jsx)("tbody",{children:a?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{className:"text-center",colSpan:"9",children:"Loading..."})}):(null===x||void 0===x?void 0:x.length)>0?null===x||void 0===x?void 0:x.map((t,a)=>{var o,l,r,s;return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:null!==t&&void 0!==t&&t.image&&0!==(null===t||void 0===t||null===(o=t.image)||void 0===o?void 0:o.length)?(0,v.jsx)("img",{src:null===t||void 0===t||null===(l=t.image[0])||void 0===l?void 0:l.url,width:"50",alt:"preview",style:{borderRadius:"5px"}}):(0,v.jsxs)("div",{style:{fontSize:"13px"},children:[(0,v.jsx)("p",{className:"m-0",children:"No"}),(0,v.jsx)("p",{className:"m-0",children:"image"}),(0,v.jsx)("p",{className:"m-0",children:"uploaded!"})]})}),(0,v.jsx)("td",{className:"text-start",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.SKU}),(0,v.jsx)("td",{className:"text-start",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name}),(0,v.jsx)("td",{className:"text-start",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:(null===(r=t.category)||void 0===r?void 0:r.categoryName)||"Category Not selected"}),(0,v.jsx)("td",{className:"text-start",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:(null===(s=t.brand)||void 0===s?void 0:s.brandName)||"Brand Not selected"}),(0,v.jsxs)("td",{className:"text-start",children:[null===B||void 0===B?void 0:B.CurrencySymbol,null===t||void 0===t?void 0:t.price]}),(0,v.jsx)("td",{className:"text-start",children:(0,v.jsx)("button",{type:"button",className:"badge text-white ".concat("Active"===(null===t||void 0===t?void 0:t.product_Status)?"text-bg-success":"text-bg-danger"),onClick:()=>{return a=t._id,void d()({title:"Are you sure?",icon:"warning",buttons:{Yes:{text:"Yes",value:!0},Cancel:{text:"Cancel",value:"cancel"}}}).then(t=>{!0===t&&i.A.patch("/api/product/admin/status/".concat(a),{headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(e)}}).then(e=>{p.oR.success("Product status updated successfully!"),m(e=>!e)}).catch(e=>{d()({title:"Warning",text:"Something went wrong!",icon:"error",button:"Retry",dangerMode:!0})})});var a},children:null===t||void 0===t?void 0:t.product_Status})}),(0,v.jsx)("td",{className:"text-start",children:new Date(t.createdAt).toLocaleString("en-IN",{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}),(0,v.jsxs)("td",{className:"text-start",children:[(0,v.jsx)(n.N_,{to:"/product/view/".concat(t._id),state:{currencyDetails:B},children:(0,v.jsx)("button",{style:{color:"white",marginRight:"0.5rem"},type:"button",className:"btn btn-primary btn-sm waves-effect waves-light btn-table mx-1 mt-1",children:"View"})}),(0,v.jsx)(n.N_,{to:"/product/edit/".concat(t._id),children:(0,v.jsx)("button",{style:{color:"white",marginRight:"0.5rem"},type:"button",className:"btn btn-info btn-sm waves-effect waves-light btn-table mt-1 mx-1",children:"Edit"})}),(0,v.jsx)("button",{style:{color:"white"},type:"button",className:"btn btn-danger btn-sm waves-effect waves-light btn-table mt-1 mx-1",onClick:()=>{return a=t._id,void d()({title:"Are you sure?",icon:"error",buttons:{Yes:{text:"Yes",value:!0},Cancel:{text:"Cancel",value:"cancel"}}}).then(t=>{!0===t&&i.A.delete("/api/product/delete/".concat(a),{headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(e)}}).then(e=>{p.oR.success("Product deleted successfully!"),m(e=>!e)}).catch(e=>{var t,a,o,n;let i=null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.message?null===e||void 0===e||null===(o=e.response)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.message:"Something went wrong!";d()({title:"Warning",text:i,icon:"error",button:"Retry",dangerMode:!0})})});var a},children:"Delete"})]})]},a)}):(0,v.jsx)("tr",{className:"text-center",children:(0,v.jsx)("td",{colSpan:"9",children:(0,v.jsx)("h5",{children:"No Product Available..."})})})})]})}),(0,v.jsxs)("div",{className:"row mt-20",children:[(0,v.jsx)("div",{className:"col-sm-12 col-md-6 mb-20",children:(0,v.jsxs)("div",{className:"dataTables_info",id:"datatable_info",role:"status","aria-live":"polite",children:["Showing ",A*C-C+1," to"," ",Math.min(A*C,_)," of"," ",_," entries"]})}),(0,v.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,v.jsx)("div",{className:"d-flex",children:(0,v.jsxs)("ul",{className:"pagination ms-auto",children:[(0,v.jsx)("li",{className:1===A?"paginate_button page-item previous disabled":"paginate_button page-item previous",children:(0,v.jsx)("span",{className:"page-link",style:{cursor:"pointer"},onClick:()=>z(e=>e-1),disabled:a,children:"Previous"})}),!(A-1<1)&&(0,v.jsx)("li",{className:"paginate_button page-item",children:(0,v.jsx)("span",{className:"page-link",style:{cursor:"pointer"},onClick:e=>z(e=>e-1),disabled:a,children:A-1})}),(0,v.jsx)("li",{className:"paginate_button page-item active",children:(0,v.jsx)("span",{className:"page-link",style:{cursor:"pointer"},children:A})}),!((A+1)*C-C>_-1)&&(0,v.jsx)("li",{className:"paginate_button page-item ",children:(0,v.jsx)("span",{className:"page-link",style:{cursor:"pointer"},onClick:()=>{z(e=>e+1)},disabled:a,children:A+1})}),(0,v.jsx)("li",{className:(A+1)*C-C>_-1?"paginate_button page-item next disabled":"paginate_button page-item next",children:(0,v.jsx)("span",{className:"page-link",style:{cursor:"pointer"},onClick:()=>z(e=>e+1),disabled:a,children:"Next"})})]})})})]})]})})})})]})})})}}}]);