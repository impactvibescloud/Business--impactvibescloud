"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1775],{1775:function(e,a,s){s.r(a);var l=s(9950),n=s(2720),t=s(49911),r=s(66187),d=s(62146),i=s(44414);d.t1.register(d.E8,d.PP,d.kc,d.m_,d.s$,d.Bs);a.default=()=>{const[e,a]=(0,l.useState)([]),[s,d]=(0,l.useState)(!0),[c,o]=(0,l.useState)("weekly"),[u,h]=(0,l.useState)({}),m=localStorage.getItem("authToken");(0,l.useEffect)(()=>{m&&(0,n.H2)("/v1/user/details","GET").then(e=>{var a,s,l;h(e.user||(null===(a=e.data)||void 0===a?void 0:a.user)||(null===(s=e.user)||void 0===s?void 0:s.user)||(null===(l=e.user)||void 0===l?void 0:l.data)||e.data||{})}).catch(()=>h({}))},[m]),(0,l.useEffect)(()=>{if(null===u||void 0===u||!u.businessId)return;d(!0);(async()=>{try{const e=await(0,n.H2)("/performance/agents?businessId=".concat(u.businessId,"&period=").concat(c),"GET"),s=e.data||e.agents||e||[];a(s)}catch(e){a([])}finally{d(!1)}})()},[null===u||void 0===u?void 0:u.businessId,c,m]);const x={labels:e.map(e=>e.agentName),datasets:[{label:"Handled Calls",data:e.map(e=>e.handledCalls),backgroundColor:"rgba(54, 162, 235, 0.6)"},{label:"Logged Hours",data:e.map(e=>e.loggedHours),backgroundColor:"rgba(255, 206, 86, 0.6)"}]},g={labels:e.map(e=>e.agentName),datasets:[{label:"Handled Calls",data:e.map(e=>e.handledCalls),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#C9CBCF","#FF6384","#36A2EB"]}]};return(0,i.jsxs)("div",{className:"agent-performance-container",children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsxs)("h2",{children:["Agent Performance (",c.charAt(0).toUpperCase()+c.slice(1),")"]}),(0,i.jsx)("div",{style:{width:180},children:(0,i.jsxs)(t.MT,{size:"sm",value:c,onChange:e=>o(e.target.value),children:[(0,i.jsx)("option",{value:"today",children:"Today"}),(0,i.jsx)("option",{value:"weekly",children:"Weekly"}),(0,i.jsx)("option",{value:"monthly",children:"Monthly"}),(0,i.jsx)("option",{value:"yearly",children:"Yearly"})]})})]}),(0,i.jsx)(t.E$,{className:"mb-4",children:(0,i.jsx)(t.W6,{children:s?(0,i.jsx)(t.JT,{color:"primary"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{maxWidth:800,margin:"0 auto"},children:(0,i.jsx)(r.yP,{data:x,options:{responsive:!0,plugins:{legend:{position:"top"}}}})}),(0,i.jsx)("div",{style:{maxWidth:400,margin:"40px auto"},children:(0,i.jsx)(r.Fq,{data:g,options:{responsive:!0}})}),(0,i.jsxs)(t._v,{hover:!0,responsive:!0,className:"mt-4",children:[(0,i.jsx)(t.wV,{children:(0,i.jsxs)(t.YI,{children:[(0,i.jsx)(t.$s,{children:"Agent Name"}),(0,i.jsx)(t.$s,{children:"Branch Name"}),(0,i.jsx)(t.$s,{children:"Handled Calls"}),(0,i.jsx)(t.$s,{children:"Logged Hours"})]})}),(0,i.jsx)(t.jS,{children:e.map(e=>(0,i.jsxs)(t.YI,{children:[(0,i.jsx)(t.cC,{children:e.agentName}),(0,i.jsx)(t.cC,{children:e.branchName}),(0,i.jsx)(t.cC,{children:e.handledCalls}),(0,i.jsx)(t.cC,{children:e.loggedHours})]},e.agentId))})]})]})})})]})}}}]);