"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8213],{8213:function(s,e,r){r.r(e);var a=r(9950),o=r(49911),t=r(81949),n=r(3629),d=r(63794),c=r.n(d),l=r(26910),i=r(4695),w=r.n(i),h=r(28429),m=r(44414);e.default=()=>{const[s,e]=(0,a.useState)(!1),r=(0,h.Zp)(),[d,i]=(0,a.useState)({oldPassword:"",newPassword:"",confirmPassword:""}),[p,x]=(0,a.useState)({confirmPasswordError:"",newPasswordError:"",oldPasswordError:""}),u=(RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^\w\s]).{7,}$/)),P=s=>{const{name:e,value:r}=s.target;switch(e){case"oldPassword":x({...p,oldPasswordError:u.test(r)?"":"Password Shoud Be 8 Characters Long, Atleast One Uppercase, Atleast One Lowercase,Atleast One Digit, Atleast One Special Character"});break;case"newPassword":x({...p,newPasswordError:u.test(r)?"":"Password Shoud Be 8 Characters Long, Atleast One Uppercase, Atleast One Lowercase,Atleast One Digit, Atleast One Special Character"});break;case"confirmPassword":x(s=>({...s,confirmPasswordError:u.test(r)?"":"Password Shoud Be 8 Characters Long, Atleast One Uppercase, Atleast One Lowercase,Atleast One Digit, Atleast One Special Character"}))}i({...d,[e]:r})};return(0,m.jsx)("div",{className:"bg-light min-vh-70 d-flex flex-row align-items-flex-start",children:(0,m.jsx)(o.T5,{children:(0,m.jsx)(o.sK,{className:"justify-content-center",children:(0,m.jsx)(o.UF,{md:15,lg:20,xl:16,children:(0,m.jsx)(o.E$,{className:"mx-4",children:(0,m.jsx)(o.W6,{className:"p-1",children:(0,m.jsxs)(o.qI,{children:[(0,m.jsx)("h2",{className:"mb-3",children:"Change Password"}),(0,m.jsxs)(o.BG,{className:"mb-3",children:[(0,m.jsx)(o.sk,{children:(0,m.jsx)(t.Ay,{icon:n.q})}),(0,m.jsx)(o.OG,{placeholder:"Old Password",type:"password",value:d.oldPassword,onChange:P,autoComplete:"current-password",name:"oldPassword"})]}),p.oldPasswordError&&(0,m.jsx)("p",{className:"text-center py-2 text-danger",children:p.oldPasswordError}),(0,m.jsxs)(o.BG,{className:"mb-3",children:[(0,m.jsx)(o.sk,{children:(0,m.jsx)(t.Ay,{icon:n.q})}),(0,m.jsx)(o.OG,{type:"password",placeholder:" New Password",value:d.newPassword,onChange:P,name:"newPassword"})]}),p.newPasswordError&&(0,m.jsx)("p",{className:"text-center py-2 text-danger",children:p.newPasswordError}),(0,m.jsxs)(o.BG,{className:"mb-4",children:[(0,m.jsx)(o.sk,{children:(0,m.jsx)(t.Ay,{icon:n.q})}),p.passwordError&&(0,m.jsx)("p",{className:"text-center py-2 text-danger",children:p.passwordError}),(0,m.jsx)(o.OG,{type:"password",placeholder:"Confirm password ",value:d.confirmPassword,onChange:P,name:"confirmPassword"})]}),p.confirmPasswordError&&(0,m.jsx)("p",{className:"text-center py-2 text-danger",children:p.confirmPasswordError}),(0,m.jsx)("div",{className:"d-grid",children:(0,m.jsxs)(o.Q_,{color:"success",onClick:async()=>{if(!(d.oldPassword&&d.newPassword&&d.confirmPassword))return swal("Error!","All fields are required","error");if(!(d.newPassword.length>=8))return swal("Error!","All fields are required","error");const s=localStorage.getItem("authToken");if(e({loading:!0}),d.newPassword==d.confirmPassword){1==(await l.A.put("/api/v1/user/password/update",{...d},{headers:{Authorization:"Bearer ".concat(s)}})).data.success&&w().fire({title:"Done",text:"Password Changed",icon:"success",confirmButtonText:"ok",confirmButtonColor:"#303c54",iconColor:"#303c54"}).then(()=>{r("/dashboard")}),e(!1)}else swal("Error!","New Password And Confirm Password is Not Match !","error"),e(!1)},children:[(0,m.jsx)(c(),{loading:s,size:18}),!s&&"Submit"]})})]})})})})})})})}}}]);