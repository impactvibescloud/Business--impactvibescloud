"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6870],{26870:function(e,t,s){s.r(t),s.d(t,{default:function(){return z}});var a=s(9950),n=s(49911),i=s(11031),l=s(10226),c=s(35887),r=s(44414);var o=e=>{let{props:t}=e;const{data:s,setData:a,handleView:n}=t,i=e=>{a(t=>({...t,[e.target.id]:e.target.value}))},o=e=>{a(t=>({...t,campaignType:e}))};return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:[(0,r.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"Basic Details"}),(0,r.jsx)("div",{style:{display:"flex",gap:"1rem"},children:(0,r.jsx)("h4",{className:"mb-0"})}),(0,r.jsx)("div",{className:"page-title-right",children:(0,r.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},onClick:()=>{""===(null===s||void 0===s?void 0:s.campaignName)||""===(null===s||void 0===s?void 0:s.campaignType)||null===(null===s||void 0===s?void 0:s.selectedLanguage)?c.Ay.error("Fill all details"):n(2)},children:"Next"})})]})})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-12 my-1",children:(0,r.jsx)("div",{className:"card h-100",children:(0,r.jsxs)("div",{className:"card-body px-5",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"title",className:"form-label",children:"Select Campaign Type"}),(0,r.jsx)("button",{onClick:()=>o("whatsapp"),type:"button",className:"btn ".concat("whatsapp"===(null===s||void 0===s?void 0:s.campaignType)?"btn-primary":"btn-outline-primary"," mx-4"),children:"WHATSAPP"}),(0,r.jsx)("button",{onClick:()=>o("rcs"),type:"button",className:"btn ".concat("rcs"===(null===s||void 0===s?void 0:s.campaignType)?"btn-primary":"btn-outline-primary"," mx-4"),children:"RCS"}),(0,r.jsx)("button",{onClick:()=>o("email"),type:"button",className:"btn ".concat("email"===(null===s||void 0===s?void 0:s.campaignType)?"btn-primary":"btn-outline-primary"," mx-4"),children:"EMAIL"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"title",className:"form-label",children:"Campaign Name"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"campaignName",value:null===s||void 0===s?void 0:s.campaignName,maxLength:"50",onChange:e=>i(e)})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"title",className:"form-label",children:"Select Language"}),(0,r.jsxs)("select",{onChange:e=>i(e),value:null===s||void 0===s?void 0:s.language,className:"form-control",id:"language",children:[(0,r.jsx)("option",{value:"",children:"---English/Hindi---"}),(0,r.jsx)("option",{value:"english",children:"English"}),(0,r.jsx)("option",{value:"hindi",children:"Hindi"})]})]})]})})})})]})},d=s(26910);var m=e=>{let{props:t}=e;const s=(0,i.g)(),{data:n,setData:o,handleView:m}=t,[h,x]=(0,a.useState)("manual"),[p,j]=(0,a.useState)([]);return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[(0,r.jsx)("div",{className:"form-group",children:(0,r.jsxs)("label",{htmlFor:"dataEntryMethod",children:["Data Entry Method:",(0,r.jsxs)("select",{className:"form-control",id:"dataEntryMethod",value:h,onChange:e=>x(e.target.value),children:[(0,r.jsx)("option",{value:"manual",children:"Manually"}),(0,r.jsx)("option",{value:"spreadsheet",children:"Using Spreadsheet"})]})]})}),(0,r.jsxs)("div",{className:"page-title-right",children:[(0,r.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize",marginRight:"5px"},onClick:()=>m(2),children:"Prev"}),(0,r.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},onClick:e=>{e.preventDefault();if(n.recipients.some(e=>!e.name||!e.contact))return void c.Ay.error("Please fill Conatct details");const t=n.recipients.map(e=>({name:e.name,contact:e.contact})),a={campaignType:n.campaignType,campaignName:n.campaignName,language:n.language,recipients:t};d.A.post("/api/campaign/create",a,{headers:{Authorization:"Bearer ".concat(s),"Access-Control-Allow-Origin":"*"}}).then(e=>{m(4),c.Ay.success("Campaign added successfully!"),setLoading(!1)}).catch(e=>{var t,s;setLoading(!1);const a=(null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Something went wrong!";c.Ay.error(a)})},children:"Next"})]})]})})}),(0,r.jsxs)("div",{children:["manual"===h&&(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12 my-1",children:(0,r.jsx)("div",{className:"card h-100",children:(0,r.jsxs)("div",{className:"card-body px-5",children:[null===n||void 0===n?void 0:n.recipients.map((e,t)=>(0,r.jsxs)("div",{className:"row mb-3 border p-3 rounded",children:[(0,r.jsxs)("div",{className:"col-md-6 d-flex align-items-center",children:[(0,r.jsx)("label",{htmlFor:"name-".concat(t),className:"form-label me-2",children:"Name"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"name-".concat(t),value:null===e||void 0===e?void 0:e.name,onChange:e=>((e,t)=>{const s=[...n.recipients];s[t]={...s[t],name:e.target.value},o(e=>({...e,recipients:s}))})(e,t),maxLength:"50"})]}),(0,r.jsxs)("div",{className:"col-md-6 d-flex align-items-center",children:[(0,r.jsx)("label",{htmlFor:"contact-".concat(t),className:"form-label me-2",children:"email"===(null===n||void 0===n?void 0:n.campaignType)?"Email":"Phone Number"}),(0,r.jsx)("input",{type:"email"===(null===n||void 0===n?void 0:n.campaignType)?"email":"number",className:"form-control",id:"contact-".concat(t),maxLength:"50",value:null===e||void 0===e?void 0:e.contact,onChange:e=>((e,t)=>{const s=[...n.recipients];s[t]={...s[t],contact:e.target.value},o(e=>({...e,recipients:s}))})(e,t)})]}),0!==t&&(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("button",{onClick:()=>{(e=>{const t=[...n.recipients];t.splice(e,1),o(e=>({...e,recipients:t}))})(t)},className:"btn btn-danger btn-sm rounded-5 fw-bold mt-2",children:"Delete"})})]},t)),(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("button",{onClick:()=>{o(e=>({...e,recipients:[...e.recipients,{name:"",contact:""}]}))},className:"btn btn-secondary",children:"Add another record"})})]})})})}),"spreadsheet"===h&&(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12 my-1",children:(0,r.jsx)("div",{className:"card h-100",children:(0,r.jsx)("div",{className:"card-body px-5",children:(0,r.jsx)("div",{className:"row mb-3 border p-3 rounded",children:(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"spreadsheet",className:"form-label",children:"Upload Spreadsheet"}),(0,r.jsx)("input",{type:"file",className:"form-control",id:"spreadsheet",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",onChange:e=>(e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{const s=e.target.result.split("\n"),a=[];for(let t=0;t<s.length;t++){const e=s[t].split(",");if(e.length>=2){const t=e[0].trim(),s=e[1].trim();t&&s&&a.push({name:t,contact:s})}}j(a),o(e=>({...e,recipients:a,spreadSheet:t.name}))},e.readAsText(t)}})(e)})]})})})})})})]})]})};var h=e=>{let{props:t}=e;const s=(0,i.g)(),{data:n,handleView:c,setData:o}=t,[m,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)([]);return(0,a.useEffect)(()=>{d.A.get("/api/campaign/getAll",{headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(s)}}).then(e=>{var t;p(null===(t=e.data)||void 0===t?void 0:t.campaigns),h(!1)}).catch(e=>{console.log(e),h(!1)})},[]),(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[(0,r.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"Campaign Details"}),(0,r.jsxs)("div",{className:"page-title-right",children:[(0,r.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize",marginRight:"5px"},onClick:()=>t.handleView(3),children:"Prev"}),(0,r.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},onClick:async e=>{e.preventDefault(),null!==n&&void 0!==n&&n.recipients.every(e=>""!==e.name&&""!==e.contact)?c(4):toast.error("Fill all contact details")},children:"Next"})]})]})}),n&&(0,r.jsx)("div",{children:(0,r.jsx)("table",{className:"table table-striped",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:"Campaign Name"}),(0,r.jsx)("td",{children:x.campaignName})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:"Language"}),(0,r.jsx)("td",{children:x.language})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:"Campaign Type"}),(0,r.jsx)("td",{children:x.campaignType})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:"Video"}),(0,r.jsx)("td",{children:(0,r.jsx)("video",{className:"rounded",autoPlay:!0,height:300,width:250,src:null!==n&&void 0!==n&&n.video?URL.createObjectURL(null===n||void 0===n?void 0:n.video):null})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:"Recipients"}),(0,r.jsx)("td",{children:x.recipients})]})]})})})]})};var x=e=>{let{props:t}=e;const s=(0,i.g)(),{data:n,setData:o,handleView:m}=t,[h,x]=(0,a.useState)(!1),[p,j]=(0,a.useState)({});return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:[(0,r.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"Videos"}),(0,r.jsx)("div",{style:{display:"flex",gap:"1rem"},children:(0,r.jsx)("h4",{className:"mb-0"})}),(0,r.jsxs)("div",{className:"page-title-right",children:[(0,r.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize",marginRight:"5px"},onClick:()=>t.handleView(4),children:"Prev"}),(0,r.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},onClick:()=>t.handleView(6),children:"Next"})]})]})})}),(0,r.jsx)("div",{className:"row mb-2",children:(0,r.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-12 my-1",children:(0,r.jsx)("div",{className:"card h-100",children:(0,r.jsxs)("div",{className:"card-body px-5",children:[null===n||void 0===n?void 0:n.videos.map((e,t)=>(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"videoTitle".concat(t+1),className:"form-label",children:"Upload Video"}),(0,r.jsx)("input",{type:"file",className:"form-control",id:"videoTitle".concat(t+1),onChange:e=>((e,t)=>{const s=e.target.files[0];o(e=>({...e,videos:e.videos.map((e,a)=>a===t?{...e,title:URL.createObjectURL(s)}:e)})),j(t=>({...t,[e.target.id]:s}))})(e,t),accept:".mp4"}),t>=2&&(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("button",{onClick:()=>{(e=>{e>=2&&o(t=>({...t,videos:t.videos.filter((t,s)=>s!==e)}))})(t)},className:"btn btn-danger btn-sm rounded-5 fw-bold mt-2",children:"Delete"})})]},t)),(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("button",{onClick:()=>{o(e=>({...e,videos:[...e.videos,null]}))},className:"btn btn-secondary",children:"Add another record"})})]})})})}),(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("button",{onClick:async e=>{e.preventDefault(),x(!0);const t=Object.values(p);if(!t||0===t.length)return console.error("No videos to merge."),void x(!1);const a=new FormData;t.forEach(e=>{a.append("videos",e)});try{200===(await d.A.post("/api/campaign/merge",a,{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}})).status?(console.log("Video merged successfully"),x(!1),m(6)):(console.log("Failed to merge videos"),x(!1),c.Ay.error("Failed to merge videos"))}catch(n){console.log("An error occurred while merging videos:",n),x(!1),c.Ay.error(n.message)}},className:"btn btn-primary",children:h?"Merging":"Merge Videos"})})]})};var p=e=>{let{props:t}=e;const{data:s,setData:a,handleView:i}=t;console.log("data",s);return console.log(s),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"page-title-right d-flex align-items-center justify-content-end",children:[(0,r.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize",marginRight:"5px"},onClick:()=>i(5),children:"Prev"}),(0,r.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},onClick:()=>i(7),children:"Next"})]}),s&&(0,r.jsx)("div",{children:(0,r.jsxs)(n._v,{striped:!0,children:[(0,r.jsx)(n.wV,{children:(0,r.jsxs)(n.YI,{children:[(0,r.jsx)(n.cC,{scope:"col",children:"Video"}),(0,r.jsx)(n.cC,{scope:"col",children:"Name"}),(0,r.jsx)(n.cC,{scope:"col",children:"Contact"}),(0,r.jsx)(n.cC,{scope:"col"})]})}),(0,r.jsxs)(n.jS,{children:[(0,r.jsxs)(n.YI,{children:[(0,r.jsx)(n.cC,{children:(0,r.jsx)("video",{className:"rounded",style:{height:"100px"},autoPlay:!0,height:300,width:250,src:s.video})}),(0,r.jsx)(n.cC,{children:"test"}),(0,r.jsx)(n.cC,{children:"test@gmail.com"}),(0,r.jsx)(n.cC,{children:(0,r.jsx)(n.Q_,{className:"btn btn-primary",children:"Send"})})]}),(0,r.jsxs)(n.YI,{children:[(0,r.jsx)(n.cC,{children:(0,r.jsx)("video",{className:"rounded",style:{height:"100px"},autoPlay:!0,height:300,width:250,src:s.video})}),(0,r.jsx)(n.cC,{children:"test"}),(0,r.jsx)(n.cC,{children:"test@gmail.com"}),(0,r.jsx)(n.cC,{children:(0,r.jsx)(n.Q_,{className:"btn btn-primary",children:"Send"})})]}),(0,r.jsxs)(n.YI,{children:[(0,r.jsx)(n.cC,{children:(0,r.jsx)("video",{className:"rounded",style:{height:"100px"},autoPlay:!0,height:300,width:250,src:s.video})}),(0,r.jsx)(n.cC,{children:"test"}),(0,r.jsx)(n.cC,{children:"test@gmail.com"}),(0,r.jsx)(n.cC,{children:(0,r.jsx)(n.Q_,{className:"btn btn-primary",children:"Send"})})]})]})]})})]})};var j,g,v,u,b,y,N=e=>{let{props:t}=e;const{data:s,setData:a,handleView:i}=t;console.log(s);return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:[(0,r.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"Status"}),(0,r.jsx)("div",{style:{display:"flex",gap:"1rem"},children:(0,r.jsx)("h4",{className:"mb-0"})}),(0,r.jsx)("div",{className:"page-title-right",children:(0,r.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize",marginRight:"5px"},onClick:()=>i(6),children:"Prev"})})]})})}),s&&(0,r.jsx)("div",{children:(0,r.jsxs)(n._v,{striped:!0,children:[(0,r.jsx)(n.wV,{children:(0,r.jsxs)(n.YI,{children:[(0,r.jsx)(n.cC,{scope:"col",children:"Video"}),(0,r.jsx)(n.cC,{scope:"col",children:"Name"}),(0,r.jsx)(n.cC,{scope:"col",children:"Contact"}),(0,r.jsx)(n.cC,{scope:"col",children:"Status"})]})}),(0,r.jsxs)(n.jS,{children:[(0,r.jsxs)(n.YI,{children:[(0,r.jsx)(n.cC,{children:(0,r.jsx)("video",{className:"rounded",style:{height:"100px"},autoPlay:!0,height:300,width:250,src:s.video})}),(0,r.jsx)(n.cC,{children:"test"}),(0,r.jsx)(n.cC,{children:"test@gmail.com"}),(0,r.jsx)(n.cC,{children:"delivered"})]}),(0,r.jsxs)(n.YI,{children:[(0,r.jsx)(n.cC,{children:(0,r.jsx)("video",{className:"rounded",style:{height:"100px"},autoPlay:!0,height:300,width:250,src:s.video})}),(0,r.jsx)(n.cC,{children:"test"}),(0,r.jsx)(n.cC,{children:"test@gmail.com"}),(0,r.jsx)(n.cC,{children:"sent"})]}),(0,r.jsxs)(n.YI,{children:[(0,r.jsx)(n.cC,{children:(0,r.jsx)("video",{className:"rounded",style:{height:"100px"},autoPlay:!0,height:300,width:250,src:s.video})}),(0,r.jsx)(n.cC,{children:"test"}),(0,r.jsx)(n.cC,{children:"test@gmail.com"}),(0,r.jsx)(n.cC,{children:"read"})]})]})]})})]})},f=s(57528),C=s(24937);const w=C.Ay.div(j||(j=(0,f.A)(["\n  display: grid;\n  grid-template-columns: auto auto;\n  grid-gap: 0px;\n"]))),A=C.Ay.div(g||(g=(0,f.A)(["\n  display: grid;\n  font-size: 20px;\n  text-align: center;\n"]))),S=C.Ay.div(v||(v=(0,f.A)(["\n  width: 100%;\n  border: 1.5px dashed gray;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n"]))),T=C.Ay.button(u||(u=(0,f.A)(["\n  margin-top: 20px;\n  border: none;\n  font-size: 15px;\n  padding: 10px;\n"]))),k=C.Ay.video(b||(b=(0,f.A)(["\n  width: 100%;\n  height: 20rem;\n  margin-top: 50px;\n"]))),V=C.Ay.button(y||(y=(0,f.A)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  background: transparent;\n  border: none;\n"])));var D=e=>{let{props:t}=e;const s=(0,i.g)(),{data:n,setData:c,handleView:o}=t,[m,h]=(0,a.useState)(),[x,p]=(0,a.useState)(!1),[j,g]=(0,a.useState)(""),[v,u]=(0,a.useState)(),[b,y]=(0,a.useState)("");return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[(0,r.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"Upload Video to Create Template"}),(0,r.jsx)("div",{style:{display:"flex",gap:"1rem"},children:(0,r.jsx)("h4",{className:"mb-0"})}),(0,r.jsxs)("div",{className:"page-title-right",children:[(0,r.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize",marginRight:"5px"},onClick:()=>{o(1)},children:"Prev"}),(0,r.jsx)(l.A,{variant:"contained",color:"secondary",style:{fontWeight:"bold",marginBottom:"1rem",textTransform:"capitalize"},onClick:()=>{o(3)},children:"Next"})]})]})})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-12",children:[(0,r.jsxs)("div",{style:{padding:"10px"},children:[(0,r.jsxs)("a",{href:v,target:"_blank",children:["Your audioUrl: ",v||null]}),(0,r.jsx)("p",{children:b?"Your VoiceId: ".concat(b):null})]}),(0,r.jsxs)(w,{children:[(0,r.jsx)(A,{style:{overflowY:"auto",height:"30rem",textAlign:"left"},children:x?"Please wait. We are converting your video to text ...":j||"Transcribed Text will be displayed here"}),(0,r.jsx)(A,{style:{width:"30rem"},children:(0,r.jsx)(r.Fragment,{children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k,{controls:!0,src:m,children:"Your browser does not support the video tag."}),(0,r.jsx)(V,{onClick:()=>{h(null)},children:"\xd7"})]}):(0,r.jsxs)(S,{children:[(0,r.jsx)("input",{type:"file",id:"video",accept:"video/*",onChange:async e=>{const t=e.target.files[0];if(t){c(s=>({...s,[e.target.id]:t})),h(URL.createObjectURL(t)),p(!0);try{const e=new FormData;console.log(n.video),e.append("videoTemplate",n.video);const t=await d.A.post("/api/campaign/convert",e,{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}}),{success:a,message:i,text:l,audio:c,voiceId:r}=t.data;a?(u(c),g(l),y(r),p(!1),swal({title:"Converted",text:"Text Extracted Successfully",icon:"success",button:"Close"})):(swal({title:"API Error",text:i,icon:"error",button:"Close"}),p(!1),console.log("API Error:",i))}catch(a){swal({title:"Network Error",text:a.message,icon:"error",button:"Close"}),p(!1),console.log("Network Error:",a)}}},style:{display:"none"}}),(0,r.jsx)("label",{htmlFor:"video",children:x?"Please wait. We are converting your video to text ...":"Upload Your Videos to extract text from it"}),(0,r.jsx)(T,{onClick:()=>document.getElementById("video").click(),children:"SELECT FILES"})]})})})]})]})})]})};var z=()=>{(0,i.g)();const[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(1),[c,d]=(0,a.useState)(!1),[j,g]=(0,a.useState)({WebsiteURL:"https://bolo.ai.in/",campaignName:"",language:"",campaignType:"",video:null,spreadSheet:null,videos:[null,null],recipients:[{name:"",contact:""}],testRecipents:[{name:"",phoneNumber:"",email:"",status:["delivered"]}]}),v=e=>{s!==e&&l(e)};return(0,r.jsxs)(n.T5,{children:[(0,r.jsx)(n.sK,{className:"mt-3",children:(0,r.jsx)(n.UF,{md:12,children:(0,r.jsx)("div",{className:" page-title-box d-flex align-items-center justify-content-between ",children:(0,r.jsx)("div",{style:{fontSize:"22px"},className:"fw-bold",children:"Add Campaign"})})})}),(0,r.jsxs)(n.sK,{children:[(0,r.jsx)(n.UF,{md:9,className:"mt-1",children:(0,r.jsx)(n.x$,{children:(0,r.jsx)(n.E$,{className:"p-4 mb-3",children:(0,r.jsxs)(n.W6,{children:[1===s&&(0,r.jsx)(o,{props:{data:j,setData:g,handleView:v},setData:g,handleView:v}),2===s&&(0,r.jsx)(D,{props:{data:j,setData:g,handleView:v}}),3===s&&(0,r.jsx)(m,{props:{data:j,setData:g,handleView:v}}),4===s&&(0,r.jsx)(h,{props:{data:j,setData:g,handleView:v}}),5===s&&(0,r.jsx)(x,{props:{data:j,setData:g,handleView:v}}),6===s&&(0,r.jsx)(p,{props:{data:j,setData:g,handleView:v}}),7===s&&(0,r.jsx)(N,{props:{data:j,setData:g,handleView:v}})]})})})}),(0,r.jsx)(n.UF,{md:3,className:"mt-1",children:(0,r.jsx)(n.x$,{children:(0,r.jsx)(n.E$,{children:(0,r.jsx)(n.W6,{children:(0,r.jsxs)("div",{className:"d-grid gap-2",children:[(0,r.jsx)("button",{className:1===s?"btn btn-light":"btn btn-info text-white",type:"button",onClick:()=>v(1),children:"Basic Details"}),(0,r.jsx)("button",{className:2===s?"btn btn-light":"btn btn-info text-white",type:"button",onClick:()=>v(2),children:"Video Template"}),(0,r.jsx)("button",{className:3===s?"btn btn-light":"btn btn-info text-white",type:"button",onClick:()=>v(3),children:"Contact Details"}),(0,r.jsx)("button",{className:4===s?"btn btn-light":"btn btn-info text-white",type:"button",onClick:()=>v(4),children:"Preview"}),(0,r.jsx)("button",{className:5===s?"btn btn-light":"btn btn-info text-white",type:"button",onClick:()=>v(5),children:"Videos (Internal Process)"}),(0,r.jsx)("button",{className:6===s?"btn btn-light":"btn btn-info text-white",type:"button",onClick:()=>v(6),children:"Test & Launch"}),(0,r.jsx)("button",{className:7===s?"btn btn-light":"btn btn-info text-white",type:"button",onClick:()=>v(7),children:"Status"})]})})})})})]})]})}}}]);